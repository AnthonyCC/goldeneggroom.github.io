window.Modernizr=function(e,t,r){function n(e){w.cssText=e}function a(e,t){return n(P.join(e+";")+(t||""))}function i(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var n in e){var a=e[n];if(!o(a,"-")&&w[a]!==r)return"pfx"==t?a:!0}return!1}function l(e,t,n){for(var a in e){var o=t[e[a]];if(o!==r)return n===!1?e[a]:i(o,"function")?o.bind(n||t):o}return!1}function c(e,t,r){var n=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+S.join(n+" ")+n).split(" ");return i(t,"string")||i(t,"undefined")?s(a,t):(a=(e+" "+x.join(n+" ")+n).split(" "),l(a,t,r))}function u(){p.input=function(r){for(var n=0,a=r.length;a>n;n++)T[r[n]]=!!(r[n]in y);return T.list&&(T.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(e){for(var n,a,i,o=0,s=e.length;s>o;o++)y.setAttribute("type",a=e[o]),n="text"!==y.type,n&&(y.value=k,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&y.style.WebkitAppearance!==r?(v.appendChild(y),i=t.defaultView,n=i.getComputedStyle&&"textfield"!==i.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,v.removeChild(y)):/^(search|tel)$/.test(a)||(n=/^(url|email)$/.test(a)?y.checkValidity&&y.checkValidity()===!1:y.value!=k)),j[e[o]]=!!n;return j}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,h="2.6.3",p={},m=!0,v=t.documentElement,g="modernizr",b=t.createElement(g),w=b.style,y=t.createElement("input"),k=":)",C={}.toString,P=" -webkit- -moz- -o- -ms- ".split(" "),$="Webkit Moz O ms",S=$.split(" "),x=$.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},E={},j={},T={},_=[],F=_.slice,I=function(e,r,n,a){var i,o,s,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(n,10))for(;n--;)s=t.createElement("div"),s.id=a?a[n]:g+(n+1),c.appendChild(s);return i=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),c.id=g,(u?c:d).innerHTML+=i,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=v.style.overflow,v.style.overflow="hidden",v.appendChild(d)),o=r(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),v.style.overflow=l),!!o},D=function(t){var r=e.matchMedia||e.msMatchMedia;if(r)return r(t).matches;var n;return I("@media "+t+" { #"+g+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},U=function(){function e(e,a){a=a||t.createElement(n[e]||"div"),e="on"+e;var o=e in a;return o||(a.setAttribute||(a=t.createElement("div")),a.setAttribute&&a.removeAttribute&&(a.setAttribute(e,""),o=i(a[e],"function"),i(a[e],"undefined")||(a[e]=r),a.removeAttribute(e))),a=null,o}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),R={}.hasOwnProperty;f=i(R,"undefined")||i(R.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return R.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var r=F.call(arguments,1),n=function(){if(this instanceof n){var a=function(){};a.prototype=t.prototype;var i=new a,o=t.apply(i,r.concat(F.call(arguments)));return Object(o)===o?o:i}return t.apply(e,r.concat(F.call(arguments)))};return n}),E.flexbox=function(){return c("flexWrap")},E.flexboxlegacy=function(){return c("boxDirection")},E.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},E.canvastext=function(){return!(!p.canvas||!i(t.createElement("canvas").getContext("2d").fillText,"function"))},E.webgl=function(){return!!e.WebGLRenderingContext},E.touch=function(){var r;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?r=!0:I(["@media (",P.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){r=9===e.offsetTop}),r},E.geolocation=function(){return"geolocation"in navigator},E.postmessage=function(){return!!e.postMessage},E.websqldatabase=function(){return!!e.openDatabase},E.indexedDB=function(){return!!c("indexedDB",e)},E.hashchange=function(){return U("hashchange",e)&&(t.documentMode===r||t.documentMode>7)},E.history=function(){return!(!e.history||!history.pushState)},E.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},E.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},E.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),o(w.backgroundColor,"rgba")},E.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),o(w.backgroundColor,"rgba")||o(w.backgroundColor,"hsla")},E.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(w.background)},E.backgroundsize=function(){return c("backgroundSize")},E.borderimage=function(){return c("borderImage")},E.borderradius=function(){return c("borderRadius")},E.boxshadow=function(){return c("boxShadow")},E.textshadow=function(){return""===t.createElement("div").style.textShadow},E.opacity=function(){return a("opacity:.55"),/^0.55$/.test(w.opacity)},E.cssanimations=function(){return c("animationName")},E.csscolumns=function(){return c("columnCount")},E.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",r="linear-gradient(left top,#9f9, white);";return n((e+"-webkit- ".split(" ").join(t+e)+P.join(r+e)).slice(0,-e.length)),o(w.backgroundImage,"gradient")},E.cssreflections=function(){return c("boxReflect")},E.csstransforms=function(){return!!c("transform")},E.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in v.style&&I("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},E.csstransitions=function(){return c("transition")},E.fontface=function(){var e;return I('@font-face {font-family:"font";src:url("https://")}',function(r,n){var a=t.getElementById("smodernizr"),i=a.sheet||a.styleSheet,o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(o)&&0===o.indexOf(n.split(" ")[0])}),e},E.generatedcontent=function(){var e;return I(["#",g,"{font:0/0 a}#",g,':after{content:"',k,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},E.video=function(){var e=t.createElement("video"),r=!1;try{(r=!!e.canPlayType)&&(r=new Boolean(r),r.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),r.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),r.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return r},E.audio=function(){var e=t.createElement("audio"),r=!1;try{(r=!!e.canPlayType)&&(r=new Boolean(r),r.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),r.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),r.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return r},E.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(e){return!1}},E.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(e){return!1}},E.webworkers=function(){return!!e.Worker},E.applicationcache=function(){return!!e.applicationCache},E.svg=function(){return!!t.createElementNS&&!!t.createElementNS(A.svg,"svg").createSVGRect},E.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==A.svg},E.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(C.call(t.createElementNS(A.svg,"animate")))},E.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(C.call(t.createElementNS(A.svg,"clipPath")))};for(var B in E)f(E,B)&&(d=B.toLowerCase(),p[d]=E[B](),_.push((p[d]?"":"no-")+d));return p.input||u(),p.addTest=function(e,t){if("object"==typeof e)for(var n in e)f(e,n)&&p.addTest(n,e[n]);else{if(e=e.toLowerCase(),p[e]!==r)return p;t="function"==typeof t?t():t,m!==r&&m&&(v.className+=" "+(t?"":"no-")+e),p[e]=t}return p},n(""),b=y=null,function(e,t){function n(e,t){var r=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return r.innerHTML="x<style>"+t+"</style>",n.insertBefore(r.lastChild,n.firstChild)}function a(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=g[e[m]];return t||(t={},v++,e[m]=v,g[v]=t),t}function o(e,r,n){if(r||(r=t),d)return r.createElement(e);n||(n=i(r));var a;return a=n.cache[e]?n.cache[e].cloneNode():p.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),a.canHaveChildren&&!h.test(e)?n.frag.appendChild(a):a}function s(e,r){if(e||(e=t),d)return e.createDocumentFragment();r=r||i(e);for(var n=r.frag.cloneNode(),o=0,s=a(),l=s.length;l>o;o++)n.createElement(s[o]);return n}function l(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(r){return b.shivMethods?o(r,e,t):t.createElem(r)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function c(e){e||(e=t);var r=i(e);return!b.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),d||l(e,r),e}var u,d,f=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,g={};(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return e.cloneNode===r||e.createDocumentFragment===r||e.createElement===r}()}catch(n){u=!0,d=!0}})();var b={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:d,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:s};e.html5=b,c(t)}(this,t),p._version=h,p._prefixes=P,p._domPrefixes=x,p._cssomPrefixes=S,p.mq=D,p.hasEvent=U,p.testProp=function(e){return s([e])},p.testAllProps=c,p.testStyles=I,p.prefixed=function(e,t,r){return t?c(e,t,r):c(e,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+_.join(" "):""),p}(this,this.document),function(){function e(e,t,r){for(var n=(r||0)-1,a=e?e.length:0;a>++n;)if(e[n]===t)return n;return-1}function t(t,r){var n=typeof r;if(t=t.cache,"boolean"==n||null==r)return t[r]?0:-1;"number"!=n&&"string"!=n&&(n="object");var a="number"==n?r:g+r;return t=(t=t[n])&&t[a],"object"==n?t&&e(t,r)>-1?0:-1:t?0:-1}function r(e){var t=this.cache,r=typeof e;if("boolean"==r||null==e)t[e]=!0;else{"number"!=r&&"string"!=r&&(r="object");var n="number"==r?e:g+e,a=t[r]||(t[r]={});"object"==r?(a[n]||(a[n]=[])).push(e):a[n]=!0}}function n(e){return e.charCodeAt(0)}function a(e,t){for(var r=e.criteria,n=t.criteria,a=-1,i=r.length;i>++a;){var o=r[a],s=n[a];if(o!==s){if(o>s||o===h)return 1;if(s>o||s===h)return-1}}return e.index-t.index}function i(e){var t=-1,n=e.length,a=e[0],i=e[0|n/2],o=e[n-1];if(a&&"object"==typeof a&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var s=l();s["false"]=s["null"]=s["true"]=s.undefined=!1;var c=l();for(c.array=e,c.cache=s,c.push=r;n>++t;)c.push(e[t]);return c}function o(e){return"\\"+z[e]}function s(){return p.pop()||[]}function l(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(e){e.length=0,w>p.length&&p.push(e)}function u(e){var t=e.cache;t&&u(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,w>m.length&&m.push(e)}function d(e,t,r){t||(t=0),r===h&&(r=e?e.length:0);for(var n=-1,a=r-t||0,i=Array(0>a?0:a);a>++n;)i[n]=e[t+n];return i}function f(r){function p(e){return e&&"object"==typeof e&&!Zn(e)&&Dn.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function w(e){function t(){if(n){var e=d(n);Un.apply(e,arguments)}if(this instanceof t){var i=G(r.prototype),o=r.apply(i,e||arguments);return Tt(o)?o:i}return r.apply(a,e||arguments)}var r=e[0],n=e[2],a=e[4];return Yn(t,e),t}function z(e,t,r,n,a){if(r){var i=r(e);if(i!==h)return i}var o=Tt(e);if(!o)return e;var l=An.call(e);if(!L[l])return e;var u=Gn[l];switch(l){case R:case B:return new u(+e);case M:case W:return new u(e);case V:return i=u(e.source,S.exec(e)),i.lastIndex=e.lastIndex,i}var f=Zn(e);if(t){var p=!n;n||(n=s()),a||(a=s());for(var m=n.length;m--;)if(n[m]==e)return a[m];i=f?u(e.length):{}}else i=f?d(e):ia({},e);return f&&(Dn.call(e,"index")&&(i.index=e.index),Dn.call(e,"input")&&(i.input=e.input)),t?(n.push(e),a.push(i),(f?Ht:la)(e,function(e,o){i[o]=z(e,t,r,n,a)}),p&&(c(n),c(a)),i):i}function G(e){return Tt(e)?Nn(e):{}}function H(e,t,r){if("function"!=typeof e)return Yr;if(t===h||!("prototype"in e))return e;var n=e.__bindData__;if(n===h&&(Hn.funcNames&&(n=!e.name),n=n||!Hn.funcDecomp,!n)){var a=Fn.call(e);Hn.funcNames||(n=!x.test(a)),n||(n=T.test(a),Yn(e,n))}if(n===!1||n!==!0&&1&n[1])return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)};case 4:return function(r,n,a,i){return e.call(t,r,n,a,i)}}return Dr(e,t)}function Y(e){function t(){var e=l?o:this;if(a){var p=d(a);Un.apply(p,arguments)}if((i||u)&&(p||(p=d(arguments)),i&&Un.apply(p,i),u&&s>p.length))return n|=16,Y([r,f?n:-4&n,p,null,o,s]);if(p||(p=arguments),c&&(r=e[h]),this instanceof t){e=G(r.prototype);var m=r.apply(e,p);return Tt(m)?m:e}return r.apply(e,p)}var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=1&n,c=2&n,u=4&n,f=8&n,h=r;return Yn(t,e),t}function Z(r,n){var a=-1,o=lt(),s=r?r.length:0,l=s>=b&&o===e,c=[];if(l){var d=i(n);d?(o=t,n=d):l=!1}for(;s>++a;){var f=r[a];0>o(n,f)&&c.push(f)}return l&&u(n),c}function et(e,t,r,n){for(var a=(n||0)-1,i=e?e.length:0,o=[];i>++a;){var s=e[a];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Zn(s)||ft(s))){t||(s=et(s,t,r));var l=-1,c=s.length,u=o.length;for(o.length+=c;c>++l;)o[u++]=s[l]}else r||o.push(s)}return o}function tt(e,t,r,n,a,i){if(r){var o=r(e,t);if(o!==h)return!!o}if(e===t)return 0!==e||1/e==1/t;var l=typeof e,u=typeof t;if(!(e!==e||e&&Q[l]||t&&Q[u]))return!1;if(null==e||null==t)return e===t;var d=An.call(e),f=An.call(t);if(d==D&&(d=N),f==D&&(f=N),d!=f)return!1;switch(d){case R:case B:return+e==+t;case M:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case V:case W:return e==Cn(t)}var p=d==U;if(!p){var m=Dn.call(e,"__wrapped__"),v=Dn.call(t,"__wrapped__");if(m||v)return tt(m?e.__wrapped__:e,v?t.__wrapped__:t,r,n,a,i);if(d!=N)return!1;var g=e.constructor,b=t.constructor;if(g!=b&&!(jt(g)&&g instanceof g&&jt(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var w=!a;a||(a=s()),i||(i=s());for(var y=a.length;y--;)if(a[y]==e)return i[y]==t;var k=0;if(o=!0,a.push(e),i.push(t),p){if(y=e.length,k=t.length,o=k==y,o||n)for(;k--;){var C=y,P=t[k];if(n)for(;C--&&!(o=tt(e[C],P,r,n,a,i)););else if(!(o=tt(e[k],P,r,n,a,i)))break}}else sa(t,function(t,s,l){return Dn.call(l,s)?(k++,o=Dn.call(e,s)&&tt(e[s],t,r,n,a,i)):h}),o&&!n&&sa(e,function(e,t,r){return Dn.call(r,t)?o=--k>-1:h});return a.pop(),i.pop(),w&&(c(a),c(i)),o}function rt(e,t,r,n,a){(Zn(t)?Ht:la)(t,function(t,i){var o,s,l=t,c=e[i];if(t&&((s=Zn(t))||ca(t))){for(var u=n.length;u--;)if(o=n[u]==t){c=a[u];break}if(!o){var d;r&&(l=r(c,t),(d=l!==h)&&(c=l)),d||(c=s?Zn(c)?c:[]:ca(c)?c:{}),n.push(t),a.push(c),d||rt(c,t,r,n,a)}}else r&&(l=r(c,t),l===h&&(l=t)),l!==h&&(c=l);e[i]=c})}function nt(e,t){return e+_n(Jn()*(t-e+1))}function at(r,n,a){var o=-1,l=lt(),d=r?r.length:0,f=[],h=!n&&d>=b&&l===e,p=a||h?s():f;if(h){var m=i(p);l=t,p=m}for(;d>++o;){var v=r[o],g=a?a(v,o,r):v;(n?!o||p[p.length-1]!==g:0>l(p,g))&&((a||h)&&p.push(g),f.push(v))}return h?(c(p.array),u(p)):a&&c(p),f}function it(e){return function(t,r,n){var a={};r=p.createCallback(r,n,3);var i=-1,o=t?t.length:0;if("number"==typeof o)for(;o>++i;){var s=t[i];e(a,s,r(s,i,t),t)}else la(t,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function ot(e,t,r,n,a,i){var o=1&t,s=2&t,l=4&t,c=16&t,u=32&t;if(!s&&!jt(e))throw new Pn;c&&!r.length&&(t&=-17,c=r=!1),u&&!n.length&&(t&=-33,u=n=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=d(f),f[2]&&(f[2]=d(f[2])),f[3]&&(f[3]=d(f[3])),!o||1&f[1]||(f[4]=a),!o&&1&f[1]&&(t|=8),!l||4&f[1]||(f[5]=i),c&&Un.apply(f[2]||(f[2]=[]),r),u&&On.apply(f[3]||(f[3]=[]),n),f[1]|=t,ot.apply(null,f);var h=1==t||17===t?w:Y;return h([e,t,r,n,a,i])}function st(e){return ta[e]}function lt(){var t=(t=p.indexOf)===gr?e:t;return t}function ct(e){return"function"==typeof e&&En.test(e)}function ut(e){var t,r;return e&&An.call(e)==N&&(t=e.constructor,!jt(t)||t instanceof t)?(sa(e,function(e,t){r=t}),r===h||Dn.call(e,r)):!1}function dt(e){return ra[e]}function ft(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==D||!1}function ht(e,t,r,n){return"boolean"!=typeof t&&null!=t&&(n=r,r=t,t=!1),z(e,t,"function"==typeof r&&H(r,n,1))}function pt(e,t,r){return z(e,!0,"function"==typeof t&&H(t,r,1))}function mt(e,t){var r=G(e);return t?ia(r,t):r}function vt(e,t,r){var n;return t=p.createCallback(t,r,3),la(e,function(e,r,a){return t(e,r,a)?(n=r,!1):h}),n}function gt(e,t,r){var n;return t=p.createCallback(t,r,3),wt(e,function(e,r,a){return t(e,r,a)?(n=r,!1):h}),n}function bt(e,t,r){var n=[];sa(e,function(e,t){n.push(t,e)});var a=n.length;for(t=H(t,r,3);a--&&t(n[a--],n[a],e)!==!1;);return e}function wt(e,t,r){var n=ea(e),a=n.length;for(t=H(t,r,3);a--;){var i=n[a];if(t(e[i],i,e)===!1)break}return e}function yt(e){var t=[];return sa(e,function(e,r){jt(e)&&t.push(r)}),t.sort()}function kt(e,t){return e?Dn.call(e,t):!1}function Ct(e){for(var t=-1,r=ea(e),n=r.length,a={};n>++t;){var i=r[t];a[e[i]]=i}return a}function Pt(e){return e===!0||e===!1||e&&"object"==typeof e&&An.call(e)==R||!1}function $t(e){return e&&"object"==typeof e&&An.call(e)==B||!1}function St(e){return e&&1===e.nodeType||!1}function xt(e){var t=!0;if(!e)return t;var r=An.call(e),n=e.length;return r==U||r==W||r==D||r==N&&"number"==typeof n&&jt(e.splice)?!n:(la(e,function(){return t=!1}),t)}function At(e,t,r,n){return tt(e,t,"function"==typeof r&&H(r,n,2))}function Et(e){return Wn(e)&&!Ln(parseFloat(e))}function jt(e){return"function"==typeof e}function Tt(e){return!(!e||!Q[typeof e])}function _t(e){return It(e)&&e!=+e}function Ft(e){return null===e}function It(e){return"number"==typeof e||e&&"object"==typeof e&&An.call(e)==M||!1}function Dt(e){return e&&"object"==typeof e&&An.call(e)==V||!1}function Ut(e){return"string"==typeof e||e&&"object"==typeof e&&An.call(e)==W||!1}function Rt(e){return e===h}function Bt(e,t,r){var n={};return t=p.createCallback(t,r,3),la(e,function(e,r,a){n[r]=t(e,r,a)}),n}function Ot(e){var t=arguments,r=2;if(!Tt(e))return e;if("number"!=typeof t[2]&&(r=t.length),r>3&&"function"==typeof t[r-2])var n=H(t[--r-1],t[r--],2);else r>2&&"function"==typeof t[r-1]&&(n=t[--r]);for(var a=d(arguments,1,r),i=-1,o=s(),l=s();r>++i;)rt(e,a[i],n,o,l);return c(o),c(l),e}function Mt(e,t,r){var n={};if("function"!=typeof t){var a=[];sa(e,function(e,t){a.push(t)}),a=Z(a,et(arguments,!0,!1,1));for(var i=-1,o=a.length;o>++i;){var s=a[i];n[s]=e[s]}}else t=p.createCallback(t,r,3),sa(e,function(e,r,a){t(e,r,a)||(n[r]=e)});return n}function Nt(e){for(var t=-1,r=ea(e),n=r.length,a=pn(n);n>++t;){var i=r[t];a[t]=[i,e[i]]}return a}function Vt(e,t,r){var n={};if("function"!=typeof t)for(var a=-1,i=et(arguments,!0,!1,1),o=Tt(e)?i.length:0;o>++a;){var s=i[a];s in e&&(n[s]=e[s])}else t=p.createCallback(t,r,3),sa(e,function(e,r,a){t(e,r,a)&&(n[r]=e)});return n}function Wt(e,t,r,n){var a=Zn(e);if(null==r)if(a)r=[];else{var i=e&&e.constructor,o=i&&i.prototype;r=G(o)}return t&&(t=p.createCallback(t,n,4),(a?Ht:la)(e,function(e,n,a){return t(r,e,n,a)})),r}function Lt(e){for(var t=-1,r=ea(e),n=r.length,a=pn(n);n>++t;)a[t]=e[r[t]];return a}function qt(e){for(var t=arguments,r=-1,n=et(t,!0,!1,1),a=t[2]&&t[2][t[1]]===e?1:n.length,i=pn(a);a>++r;)i[r]=e[n[r]];return i}function Kt(e,t,r){var n=-1,a=lt(),i=e?e.length:0,o=!1;return r=(0>r?Kn(0,i+r):r)||0,Zn(e)?o=a(e,t,r)>-1:"number"==typeof i?o=(Ut(e)?e.indexOf(t,r):a(e,t,r))>-1:la(e,function(e){return++n>=r?!(o=e===t):h}),o}function Qt(e,t,r){var n=!0;t=p.createCallback(t,r,3);var a=-1,i=e?e.length:0;if("number"==typeof i)for(;i>++a&&(n=!!t(e[a],a,e)););else la(e,function(e,r,a){return n=!!t(e,r,a)});return n}function zt(e,t,r){var n=[];t=p.createCallback(t,r,3);var a=-1,i=e?e.length:0;if("number"==typeof i)for(;i>++a;){var o=e[a];t(o,a,e)&&n.push(o)}else la(e,function(e,r,a){t(e,r,a)&&n.push(e)});return n}function Jt(e,t,r){t=p.createCallback(t,r,3);var n=-1,a=e?e.length:0;if("number"!=typeof a){var i;return la(e,function(e,r,n){return t(e,r,n)?(i=e,!1):h}),i}for(;a>++n;){var o=e[n];if(t(o,n,e))return o}}function Gt(e,t,r){var n;return t=p.createCallback(t,r,3),Yt(e,function(e,r,a){return t(e,r,a)?(n=e,!1):h}),n}function Ht(e,t,r){var n=-1,a=e?e.length:0;if(t=t&&r===h?t:H(t,r,3),"number"==typeof a)for(;a>++n&&t(e[n],n,e)!==!1;);else la(e,t);return e}function Yt(e,t,r){var n=e?e.length:0;if(t=t&&r===h?t:H(t,r,3),"number"==typeof n)for(;n--&&t(e[n],n,e)!==!1;);else{var a=ea(e);n=a.length,la(e,function(e,r,i){return r=a?a[--n]:--n,t(i[r],r,i)})}return e}function Zt(e,t){var r=d(arguments,2),n=-1,a="function"==typeof t,i=e?e.length:0,o=pn("number"==typeof i?i:0);return Ht(e,function(e){o[++n]=(a?t:e[t]).apply(e,r)}),o}function Xt(e,t,r){var n=-1,a=e?e.length:0;if(t=p.createCallback(t,r,3),"number"==typeof a)for(var i=pn(a);a>++n;)i[n]=t(e[n],n,e);else i=[],la(e,function(e,r,a){i[++n]=t(e,r,a)});return i}function er(e,t,r){var a=-1/0,i=a;if("function"!=typeof t&&r&&r[t]===e&&(t=null),null==t&&Zn(e))for(var o=-1,s=e.length;s>++o;){var l=e[o];l>i&&(i=l)}else t=null==t&&Ut(e)?n:p.createCallback(t,r,3),Ht(e,function(e,r,n){var o=t(e,r,n);o>a&&(a=o,i=e)});return i}function tr(e,t,r){var a=1/0,i=a;if("function"!=typeof t&&r&&r[t]===e&&(t=null),null==t&&Zn(e))for(var o=-1,s=e.length;s>++o;){var l=e[o];i>l&&(i=l)}else t=null==t&&Ut(e)?n:p.createCallback(t,r,3),Ht(e,function(e,r,n){var o=t(e,r,n);a>o&&(a=o,i=e)});return i}function rr(e,t,r,n){if(!e)return r;var a=3>arguments.length;t=p.createCallback(t,n,4);var i=-1,o=e.length;if("number"==typeof o)for(a&&(r=e[++i]);o>++i;)r=t(r,e[i],i,e);else la(e,function(e,n,i){r=a?(a=!1,e):t(r,e,n,i)});return r}function nr(e,t,r,n){var a=3>arguments.length;return t=p.createCallback(t,n,4),Yt(e,function(e,n,i){r=a?(a=!1,e):t(r,e,n,i)}),r}function ar(e,t,r){return t=p.createCallback(t,r,3),zt(e,function(e,r,n){return!t(e,r,n)})}function ir(e,t,r){if(e&&"number"!=typeof e.length&&(e=Lt(e)),null==t||r)return e?e[nt(0,e.length-1)]:h;var n=or(e);return n.length=Qn(Kn(0,t),n.length),n}function or(e){var t=-1,r=e?e.length:0,n=pn("number"==typeof r?r:0);return Ht(e,function(e){var r=nt(0,++t);n[t]=n[r],n[r]=e}),n}function sr(e){var t=e?e.length:0;return"number"==typeof t?t:ea(e).length}function lr(e,t,r){var n;t=p.createCallback(t,r,3);var a=-1,i=e?e.length:0;if("number"==typeof i)for(;i>++a&&!(n=t(e[a],a,e)););else la(e,function(e,r,a){return!(n=t(e,r,a))});return!!n}function cr(e,t,r){var n=-1,i=Zn(t),o=e?e.length:0,d=pn("number"==typeof o?o:0);for(i||(t=p.createCallback(t,r,3)),Ht(e,function(e,r,a){var o=d[++n]=l();i?o.criteria=Xt(t,function(t){return e[t]}):(o.criteria=s())[0]=t(e,r,a),o.index=n,o.value=e}),o=d.length,d.sort(a);o--;){var f=d[o];d[o]=f.value,i||c(f.criteria),u(f)}return d}function ur(e){return e&&"number"==typeof e.length?d(e):Lt(e)}function dr(e){for(var t=-1,r=e?e.length:0,n=[];r>++t;){var a=e[t];a&&n.push(a)}return n}function fr(e){return Z(e,et(arguments,!0,!0,1))}function hr(e,t,r){var n=-1,a=e?e.length:0;for(t=p.createCallback(t,r,3);a>++n;)if(t(e[n],n,e))return n;return-1}function pr(e,t,r){var n=e?e.length:0;for(t=p.createCallback(t,r,3);n--;)if(t(e[n],n,e))return n;return-1}function mr(e,t,r){var n=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var i=-1;for(t=p.createCallback(t,r,3);a>++i&&t(e[i],i,e);)n++}else if(n=t,null==n||r)return e?e[0]:h;return d(e,0,Qn(Kn(0,n),a))}function vr(e,t,r,n){return"boolean"!=typeof t&&null!=t&&(n=r,r="function"!=typeof t&&n&&n[t]===e?null:t,t=!1),null!=r&&(e=Xt(e,r,n)),et(e,t)}function gr(t,r,n){if("number"==typeof n){var a=t?t.length:0;n=0>n?Kn(0,a+n):n||0}else if(n){var i=xr(t,r);return t[i]===r?i:-1}return e(t,r,n)}function br(e,t,r){var n=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var i=a;for(t=p.createCallback(t,r,3);i--&&t(e[i],i,e);)n++}else n=null==t||r?1:t||n;return d(e,0,Qn(Kn(0,a-n),a))}function wr(){for(var r=[],n=-1,a=arguments.length,o=s(),l=lt(),d=l===e,f=s();a>++n;){var h=arguments[n];(Zn(h)||ft(h))&&(r.push(h),o.push(d&&h.length>=b&&i(n?r[n]:f)))}var p=r[0],m=-1,v=p?p.length:0,g=[];e:for(;v>++m;){var w=o[0];if(h=p[m],0>(w?t(w,h):l(f,h))){for(n=a,(w||f).push(h);--n;)if(w=o[n],0>(w?t(w,h):l(r[n],h)))continue e;g.push(h)}}for(;a--;)w=o[a],w&&u(w);return c(o),c(f),g}function yr(e,t,r){var n=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var i=a;for(t=p.createCallback(t,r,3);i--&&t(e[i],i,e);)n++}else if(n=t,null==n||r)return e?e[a-1]:h;return d(e,Kn(0,a-n))}function kr(e,t,r){var n=e?e.length:0;for("number"==typeof r&&(n=(0>r?Kn(0,n+r):Qn(r,n-1))+1);n--;)if(e[n]===t)return n;return-1}function Cr(e){for(var t=arguments,r=0,n=t.length,a=e?e.length:0;n>++r;)for(var i=-1,o=t[r];a>++i;)e[i]===o&&(Bn.call(e,i--,1),a--);return e}function Pr(e,t,r){e=+e||0,r="number"==typeof r?r:+r||1,null==t&&(t=e,e=0);for(var n=-1,a=Kn(0,jn((t-e)/(r||1))),i=pn(a);a>++n;)i[n]=e,e+=r;return i}function $r(e,t,r){var n=-1,a=e?e.length:0,i=[];for(t=p.createCallback(t,r,3);a>++n;){var o=e[n];t(o,n,e)&&(i.push(o),Bn.call(e,n--,1),a--)}return i}function Sr(e,t,r){if("number"!=typeof t&&null!=t){var n=0,a=-1,i=e?e.length:0;for(t=p.createCallback(t,r,3);i>++a&&t(e[a],a,e);)n++}else n=null==t||r?1:Kn(0,t);return d(e,n)}function xr(e,t,r,n){var a=0,i=e?e.length:a;for(r=r?p.createCallback(r,n,1):Yr,t=r(t);i>a;){var o=a+i>>>1;t>r(e[o])?a=o+1:i=o}return a}function Ar(){return at(et(arguments,!0,!0))}function Er(e,t,r,n){return"boolean"!=typeof t&&null!=t&&(n=r,r="function"!=typeof t&&n&&n[t]===e?null:t,t=!1),null!=r&&(r=p.createCallback(r,n,3)),at(e,t,r)}function jr(e){return Z(e,d(arguments,1))}function Tr(){for(var e=-1,t=arguments.length;t>++e;){var r=arguments[e];if(Zn(r)||ft(r))var n=n?at(Z(n,r).concat(Z(r,n))):r}return n||[]}function _r(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,r=e?er(ha(e,"length")):0,n=pn(0>r?0:r);r>++t;)n[t]=ha(e,t);return n}function Fr(e,t){var r=-1,n=e?e.length:0,a={};for(t||!n||Zn(e[0])||(t=[]);n>++r;){var i=e[r];t?a[i]=t[r]:i&&(a[i[0]]=i[1])}return a}function Ir(e,t){if(!jt(t))throw new Pn;return function(){return 1>--e?t.apply(this,arguments):h}}function Dr(e,t){return arguments.length>2?ot(e,17,d(arguments,2),null,t):ot(e,1,null,null,t)}function Ur(e){for(var t=arguments.length>1?et(arguments,!0,!1,1):yt(e),r=-1,n=t.length;n>++r;){var a=t[r];e[a]=ot(e[a],1,null,null,e)}return e}function Rr(e,t){return arguments.length>2?ot(t,19,d(arguments,2),null,e):ot(t,3,null,null,e)}function Br(){for(var e=arguments,t=e.length;t--;)if(!jt(e[t]))throw new Pn;return function(){for(var t=arguments,r=e.length;r--;)t=[e[r].apply(this,t)];return t[0]}}function Or(e,t){return t="number"==typeof t?t:+t||e.length,ot(e,4,null,null,null,t)}function Mr(e,t,r){var n,a,i,o,s,l,c,u=0,d=!1,f=!0;if(!jt(e))throw new Pn;if(t=Kn(0,t)||0,r===!0){var p=!0;f=!1}else Tt(r)&&(p=r.leading,d="maxWait"in r&&(Kn(t,r.maxWait)||0),f="trailing"in r?r.trailing:f);var m=function(){var r=t-(ma()-o);if(0>=r){a&&Tn(a);var d=c;a=l=c=h,d&&(u=ma(),i=e.apply(s,n),l||a||(n=s=null))}else l=Rn(m,r)},v=function(){l&&Tn(l),a=l=c=h,(f||d!==t)&&(u=ma(),i=e.apply(s,n),l||a||(n=s=null))};return function(){if(n=arguments,o=ma(),s=this,c=f&&(l||!p),d===!1)var r=p&&!l;else{a||p||(u=o);var h=d-(o-u),g=0>=h;g?(a&&(a=Tn(a)),u=o,i=e.apply(s,n)):a||(a=Rn(v,h))}return g&&l?l=Tn(l):l||t===d||(l=Rn(m,t)),r&&(g=!0,i=e.apply(s,n)),!g||l||a||(n=s=null),i}}function Nr(e){if(!jt(e))throw new Pn;var t=d(arguments,1);return Rn(function(){e.apply(h,t)},1)}function Vr(e,t){if(!jt(e))throw new Pn;var r=d(arguments,2);return Rn(function(){e.apply(h,r)},t)}function Wr(e,t){if(!jt(e))throw new Pn;var r=function(){var n=r.cache,a=t?t.apply(this,arguments):g+arguments[0];return Dn.call(n,a)?n[a]:n[a]=e.apply(this,arguments)};return r.cache={},r}function Lr(e){var t,r;if(!jt(e))throw new Pn;return function(){return t?r:(t=!0,r=e.apply(this,arguments),e=null,r)}}function qr(e){return ot(e,16,d(arguments,1))}function Kr(e){return ot(e,32,null,d(arguments,1))}function Qr(e,t,r){var n=!0,a=!0;if(!jt(e))throw new Pn;return r===!1?n=!1:Tt(r)&&(n="leading"in r?r.leading:n,a="trailing"in r?r.trailing:a),q.leading=n,q.maxWait=t,q.trailing=a,Mr(e,t,q)}function zr(e,t){return ot(t,16,[e])}function Jr(e){return function(){return e}}function Gr(e,t,r){var n=typeof e;if(null==e||"function"==n)return H(e,t,r);if("object"!=n)return tn(e);var a=ea(e),i=a[0],o=e[i];return 1!=a.length||o!==o||Tt(o)?function(t){for(var r=a.length,n=!1;r--&&(n=tt(t[a[r]],e[a[r]],null,!0)););return n}:function(e){var t=e[i];return o===t&&(0!==o||1/o==1/t)}}function Hr(e){return null==e?"":Cn(e).replace(aa,st)}function Yr(e){return e}function Zr(e,t,r){var n=!0,a=t&&yt(t);t&&(r||a.length)||(null==r&&(r=t),i=m,t=e,e=p,a=yt(t)),r===!1?n=!1:Tt(r)&&"chain"in r&&(n=r.chain);var i=e,o=jt(i);Ht(a,function(r){var a=e[r]=t[r];o&&(i.prototype[r]=function(){var t=this.__chain__,r=this.__wrapped__,o=[r];Un.apply(o,arguments);var s=a.apply(e,o);if(n||t){if(r===s&&Tt(s))return this;s=new i(s),s.__chain__=t}return s})})}function Xr(){return r._=xn,this}function en(){}function tn(e){return function(t){return t[e]}}function rn(e,t,r){var n=null==e,a=null==t;if(null==r&&("boolean"==typeof e&&a?(r=e,e=1):a||"boolean"!=typeof t||(r=t,a=!0)),n&&a&&(t=1),e=+e||0,a?(t=e,e=0):t=+t||0,r||e%1||t%1){var i=Jn();return Qn(e+i*(t-e+parseFloat("1e-"+((i+"").length-1))),t)}return nt(e,t)}function nn(e,t){if(e){var r=e[t];return jt(r)?e[t]():r}}function an(e,t,r){var n=p.templateSettings;e=Cn(e||""),r=oa({},r,n);var a,i=oa({},r.imports,n.imports),s=ea(i),l=Lt(i),c=0,u=r.interpolate||j,d="__p += '",f=kn((r.escape||j).source+"|"+u.source+"|"+(u===A?$:j).source+"|"+(r.evaluate||j).source+"|$","g");e.replace(f,function(t,r,n,i,s,l){return n||(n=i),d+=e.slice(c,l).replace(_,o),r&&(d+="' +\n__e("+r+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var m=r.variable,v=m;v||(m="obj",d="with ("+m+") {\n"+d+"\n}\n"),d=(a?d.replace(k,""):d).replace(C,"$1").replace(P,"$1;"),d="function("+m+") {\n"+(v?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var b=gn(s,"return "+d+g).apply(h,l)}catch(w){throw w.source=d,w}return t?b(t):(b.source=d,b)}function on(e,t,r){e=(e=+e)>-1?e:0;var n=-1,a=pn(e);for(t=H(t,r,1);e>++n;)a[n]=t(n);return a}function sn(e){return null==e?"":Cn(e).replace(na,dt)}function ln(e){var t=++v;return Cn(null==e?"":e)+t}function cn(e){return e=new m(e),e.__chain__=!0,e
}function un(e,t){return t(e),e}function dn(){return this.__chain__=!0,this}function fn(){return Cn(this.__wrapped__)}function hn(){return this.__wrapped__}r=r?X.defaults(J.Object(),r,X.pick(J,F)):J;var pn=r.Array,mn=r.Boolean,vn=r.Date,gn=r.Function,bn=r.Math,wn=r.Number,yn=r.Object,kn=r.RegExp,Cn=r.String,Pn=r.TypeError,$n=[],Sn=yn.prototype,xn=r._,An=Sn.toString,En=kn("^"+Cn(An).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),jn=bn.ceil,Tn=r.clearTimeout,_n=bn.floor,Fn=gn.prototype.toString,In=ct(In=yn.getPrototypeOf)&&In,Dn=Sn.hasOwnProperty,Un=$n.push,Rn=r.setTimeout,Bn=$n.splice,On=$n.unshift,Mn=function(){try{var e={},t=ct(t=yn.defineProperty)&&t,r=t(e,e,e)&&t}catch(n){}return r}(),Nn=ct(Nn=yn.create)&&Nn,Vn=ct(Vn=pn.isArray)&&Vn,Wn=r.isFinite,Ln=r.isNaN,qn=ct(qn=yn.keys)&&qn,Kn=bn.max,Qn=bn.min,zn=r.parseInt,Jn=bn.random,Gn={};Gn[U]=pn,Gn[R]=mn,Gn[B]=vn,Gn[O]=gn,Gn[N]=yn,Gn[M]=wn,Gn[V]=kn,Gn[W]=Cn,m.prototype=p.prototype;var Hn=p.support={};Hn.funcDecomp=!ct(r.WinRTError)&&T.test(f),Hn.funcNames="string"==typeof gn.name,p.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:A,variable:"",imports:{_:p}},Nn||(G=function(){function e(){}return function(t){if(Tt(t)){e.prototype=t;var n=new e;e.prototype=null}return n||r.Object()}}());var Yn=Mn?function(e,t){K.value=t,Mn(e,"__bindData__",K)}:en,Zn=Vn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==U||!1},Xn=function(e){var t,r=e,n=[];if(!r)return n;if(!Q[typeof e])return n;for(t in r)Dn.call(r,t)&&n.push(t);return n},ea=qn?function(e){return Tt(e)?qn(e):[]}:Xn,ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ra=Ct(ta),na=kn("("+ea(ra).join("|")+")","g"),aa=kn("["+ea(ta).join("")+"]","g"),ia=function(e,t,r){var n,a=e,i=a;if(!a)return i;var o=arguments,s=0,l="number"==typeof r?2:o.length;if(l>3&&"function"==typeof o[l-2])var c=H(o[--l-1],o[l--],2);else l>2&&"function"==typeof o[l-1]&&(c=o[--l]);for(;l>++s;)if(a=o[s],a&&Q[typeof a])for(var u=-1,d=Q[typeof a]&&ea(a),f=d?d.length:0;f>++u;)n=d[u],i[n]=c?c(i[n],a[n]):a[n];return i},oa=function(e,t,r){var n,a=e,i=a;if(!a)return i;for(var o=arguments,s=0,l="number"==typeof r?2:o.length;l>++s;)if(a=o[s],a&&Q[typeof a])for(var c=-1,u=Q[typeof a]&&ea(a),d=u?u.length:0;d>++c;)n=u[c],i[n]===h&&(i[n]=a[n]);return i},sa=function(e,t,r){var n,a=e,i=a;if(!a)return i;if(!Q[typeof a])return i;t=t&&r===h?t:H(t,r,3);for(n in a)if(t(a[n],n,e)===!1)return i;return i},la=function(e,t,r){var n,a=e,i=a;if(!a)return i;if(!Q[typeof a])return i;t=t&&r===h?t:H(t,r,3);for(var o=-1,s=Q[typeof a]&&ea(a),l=s?s.length:0;l>++o;)if(n=s[o],t(a[n],n,e)===!1)return i;return i},ca=In?function(e){if(!e||An.call(e)!=N)return!1;var t=e.valueOf,r=ct(t)&&(r=In(t))&&In(r);return r?e==r||In(e)==r:ut(e)}:ut,ua=it(function(e,t,r){Dn.call(e,r)?e[r]++:e[r]=1}),da=it(function(e,t,r){(Dn.call(e,r)?e[r]:e[r]=[]).push(t)}),fa=it(function(e,t,r){e[r]=t}),ha=Xt,pa=zt,ma=ct(ma=vn.now)&&ma||function(){return(new vn).getTime()},va=8==zn(y+"08")?zn:function(e,t){return zn(Ut(e)?e.replace(E,""):e,t||0)};return p.after=Ir,p.assign=ia,p.at=qt,p.bind=Dr,p.bindAll=Ur,p.bindKey=Rr,p.chain=cn,p.compact=dr,p.compose=Br,p.constant=Jr,p.countBy=ua,p.create=mt,p.createCallback=Gr,p.curry=Or,p.debounce=Mr,p.defaults=oa,p.defer=Nr,p.delay=Vr,p.difference=fr,p.filter=zt,p.flatten=vr,p.forEach=Ht,p.forEachRight=Yt,p.forIn=sa,p.forInRight=bt,p.forOwn=la,p.forOwnRight=wt,p.functions=yt,p.groupBy=da,p.indexBy=fa,p.initial=br,p.intersection=wr,p.invert=Ct,p.invoke=Zt,p.keys=ea,p.map=Xt,p.mapValues=Bt,p.max=er,p.memoize=Wr,p.merge=Ot,p.min=tr,p.omit=Mt,p.once=Lr,p.pairs=Nt,p.partial=qr,p.partialRight=Kr,p.pick=Vt,p.pluck=ha,p.property=tn,p.pull=Cr,p.range=Pr,p.reject=ar,p.remove=$r,p.rest=Sr,p.shuffle=or,p.sortBy=cr,p.tap=un,p.throttle=Qr,p.times=on,p.toArray=ur,p.transform=Wt,p.union=Ar,p.uniq=Er,p.values=Lt,p.where=pa,p.without=jr,p.wrap=zr,p.xor=Tr,p.zip=_r,p.zipObject=Fr,p.collect=Xt,p.drop=Sr,p.each=Ht,p.eachRight=Yt,p.extend=ia,p.methods=yt,p.object=Fr,p.select=zt,p.tail=Sr,p.unique=Er,p.unzip=_r,Zr(p),p.clone=ht,p.cloneDeep=pt,p.contains=Kt,p.escape=Hr,p.every=Qt,p.find=Jt,p.findIndex=hr,p.findKey=vt,p.findLast=Gt,p.findLastIndex=pr,p.findLastKey=gt,p.has=kt,p.identity=Yr,p.indexOf=gr,p.isArguments=ft,p.isArray=Zn,p.isBoolean=Pt,p.isDate=$t,p.isElement=St,p.isEmpty=xt,p.isEqual=At,p.isFinite=Et,p.isFunction=jt,p.isNaN=_t,p.isNull=Ft,p.isNumber=It,p.isObject=Tt,p.isPlainObject=ca,p.isRegExp=Dt,p.isString=Ut,p.isUndefined=Rt,p.lastIndexOf=kr,p.mixin=Zr,p.noConflict=Xr,p.noop=en,p.now=ma,p.parseInt=va,p.random=rn,p.reduce=rr,p.reduceRight=nr,p.result=nn,p.runInContext=f,p.size=sr,p.some=lr,p.sortedIndex=xr,p.template=an,p.unescape=sn,p.uniqueId=ln,p.all=Qt,p.any=lr,p.detect=Jt,p.findWhere=Jt,p.foldl=rr,p.foldr=nr,p.include=Kt,p.inject=rr,Zr(function(){var e={};return la(p,function(t,r){p.prototype[r]||(e[r]=t)}),e}(),!1),p.first=mr,p.last=yr,p.sample=ir,p.take=mr,p.head=mr,la(p,function(e,t){var r="sample"!==t;p.prototype[t]||(p.prototype[t]=function(t,n){var a=this.__chain__,i=e(this.__wrapped__,t,n);return a||null!=t&&(!n||r&&"function"==typeof t)?new m(i,a):i})}),p.VERSION="2.4.1",p.prototype.chain=dn,p.prototype.toString=fn,p.prototype.value=hn,p.prototype.valueOf=hn,Ht(["join","pop","shift"],function(e){var t=$n[e];p.prototype[e]=function(){var e=this.__chain__,r=t.apply(this.__wrapped__,arguments);return e?new m(r,e):r}}),Ht(["push","reverse","sort","unshift"],function(e){var t=$n[e];p.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ht(["concat","slice","splice"],function(e){var t=$n[e];p.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),p}var h,p=[],m=[],v=0,g=+new Date+"",b=75,w=40,y=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",k=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,x=/^\s*function[ \n\r\t]+\w/,A=/<%=([\s\S]+?)%>/g,E=RegExp("^["+y+"]*0+(?=.$)"),j=/($^)/,T=/\bthis\b/,_=/['\n\r\t\u2028\u2029\\]/g,F=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],I=0,D="[object Arguments]",U="[object Array]",R="[object Boolean]",B="[object Date]",O="[object Function]",M="[object Number]",N="[object Object]",V="[object RegExp]",W="[object String]",L={};L[O]=!1,L[D]=L[U]=L[R]=L[B]=L[M]=L[N]=L[V]=L[W]=!0;var q={leading:!1,maxWait:0,trailing:!1},K={configurable:!1,enumerable:!1,value:null,writable:!1},Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},J=Q[typeof window]&&window||this,G=Q[typeof exports]&&exports&&!exports.nodeType&&exports,H=Q[typeof module]&&module&&!module.nodeType&&module,Y=H&&H.exports===G&&G,Z=Q[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(J=Z);var X=f();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(J._=X,define(function(){return X})):G&&H?Y?(H.exports=X)._=X:G._=X:J._=X}.call(this),function(e,t,r){"use strict";function n(e,t){return $(new($(function(){},{prototype:e})),t)}function a(e){return P(arguments,function(t){t!==e&&P(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)})}),e}function i(e,t){var r=[];for(var n in e.path)if(""!==e.path[n]){if(!t.path[n])break;r.push(e.path[n])}return r}function o(e,t,r,n){var a,o=i(r,n),s={},l=[];for(var c in o)if(o[c].params&&o[c].params.length){a=o[c].params;for(var u in a)l.indexOf(a[u])>=0||(l.push(a[u]),s[a[u]]=e[a[u]])}return $({},s,t)}function s(e,t){var n=1,i=2,o={},s=[],l=o,c=$(e.when(o),{$$promises:o,$$values:o});this.study=function(o){function u(e,r){if(p[r]!==i){if(h.push(r),p[r]===n)throw h.splice(0,h.indexOf(r)),Error("Cyclic dependency: "+h.join(" -> "));if(p[r]=n,y(e))f.push(r,[function(){return t.get(r)}],s);else{var a=t.annotate(e);P(a,function(e){e!==r&&o.hasOwnProperty(e)&&u(o[e],e)}),f.push(r,e,a)}h.pop(),p[r]=i}}function d(e){return k(e)&&e.then&&e.$$promises}if(!k(o))throw Error("'invocables' must be an object");var f=[],h=[],p={};return P(o,u),o=h=p=null,function(n,i,o){function s(){--w||(y||a(g,i.$$values),m.$$values=g,m.$$promises=!0,p.resolve(g))}function u(e){m.$$failure=e,p.reject(e)}function h(r,a,i){function l(e){d.reject(e),u(e)}function c(){if(!b(m.$$failure))try{d.resolve(t.invoke(a,o,g)),d.promise.then(function(e){g[r]=e,s()},l)}catch(e){l(e)}}var d=e.defer(),f=0;P(i,function(e){v.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(f++,v[e].then(function(t){g[e]=t,--f||c()},l))}),f||c(),v[r]=d.promise}if(d(n)&&o===r&&(o=i,i=n,n=null),n){if(!k(n))throw Error("'locals' must be an object")}else n=l;if(i){if(!d(i))throw Error("'parent' must be a promise returned by $resolve.resolve()")}else i=c;var p=e.defer(),m=p.promise,v=m.$$promises={},g=$({},n),w=1+f.length/3,y=!1;if(b(i.$$failure))return u(i.$$failure),m;i.$$values?(y=a(g,i.$$values),s()):($(v,i.$$promises),i.then(s,u));for(var C=0,S=f.length;S>C;C+=3)n.hasOwnProperty(f[C])?s():h(f[C],f[C+1],f[C+2]);return m}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function l(e,t,r){this.fromConfig=function(e,t,r){return b(e.template)?this.fromString(e.template,t):b(e.templateUrl)?this.fromUrl(e.templateUrl,t):b(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return w(e)?e(t):e},this.fromUrl=function(r,n){return w(r)&&(r=r(n)),null==r?null:e.get(r,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function c(e){function t(t){if(!/^\w+(-+\w+)*$/.test(t))throw Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(i[t])throw Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");i[t]=!0,c.push(t)}function r(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var n,a=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,i={},o="^",s=0,l=this.segments=[],c=this.params=[];this.source=e;for(var u,d,f;(n=a.exec(e))&&(u=n[2]||n[3],d=n[4]||("*"==n[1]?".*":"[^/]*"),f=e.substring(s,n.index),!(f.indexOf("?")>=0));)o+=r(f)+"("+d+")",t(u),l.push(f),s=a.lastIndex;f=e.substring(s);var h=f.indexOf("?");if(h>=0){var p=this.sourceSearch=f.substring(h);f=f.substring(0,h),this.sourcePath=e.substring(0,s+h),P(p.substring(1).split(/[&?]/),t)}else this.sourcePath=e,this.sourceSearch="";o+=r(f)+"$",l.push(f),this.regexp=RegExp(o),this.prefix=l[0]}function u(){this.compile=function(e){return new c(e)},this.isMatcher=function(e){return k(e)&&w(e.exec)&&w(e.format)&&w(e.concat)},this.$get=function(){return this}}function d(e){function t(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function r(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function n(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return b(n)?n:!0}var a=[],i=null;this.rule=function(e){if(!w(e))throw Error("'rule' must be a function");return a.push(e),this},this.otherwise=function(e){if(y(e)){var t=e;e=function(){return t}}else if(!w(e))throw Error("'rule' must be a function");return i=e,this},this.when=function(a,i){var o,s=y(i);if(y(a)&&(a=e.compile(a)),!s&&!w(i)&&!C(i))throw Error("invalid 'handler' in when()");var l={matcher:function(t,r){return s&&(o=e.compile(r),r=["$match",function(e){return o.format(e)}]),$(function(e,a){return n(e,r,t.exec(a.path(),a.search()))},{prefix:y(t.prefix)?t.prefix:""})},regex:function(e,a){if(e.global||e.sticky)throw Error("when() RegExp must not be global or sticky");return s&&(o=a,a=["$match",function(e){return r(o,e)}]),$(function(t,r){return n(t,a,e.exec(r.path()))},{prefix:t(e)})}},c={matcher:e.isMatcher(a),regex:a instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](a,i));throw Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(e,t,r){function n(){function t(t){var n=t(r,e);return n?(y(n)&&e.replace().url(n),!0):!1}var n,o=a.length;for(n=0;o>n;n++)if(t(a[n]))return;i&&t(i)}return t.$on("$locationChangeSuccess",n),{}}]}function f(e,t,a){function i(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function s(e,t){var n=y(e),a=n?e:e.name,o=i(a);if(o){if(!t)throw Error("No reference point given for path '"+a+"'");for(var s=a.split("."),l=0,c=s.length,u=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw Error("Path '"+a+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),a=u.name+(u.name&&s?".":"")+s}var d=v[a];return!d||!n&&(n||d!==e&&d.self!==e)?r:d}function l(t){t=n(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var r=t.name;if(!y(r)||r.indexOf("@")>=0)throw Error("State must have a valid name");if(v[r])throw Error("State '"+r+"'' is already defined");for(var a in g)t[a]=g[a](t);return v[r]=t,!t["abstract"]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,r){m.$current.navigable==t&&f(e,r)||m.transitionTo(t,e,!1)}]),t}function c(e,t){return k(e)?t=e:t.name=e,l(t),this}function u(e,t,i,l,c,u,v){function g(e,r,n,a,o){var s=n?r:h(e.params,r),l={$stateParams:s};o.resolve=c.resolve(e.resolve,l,o.resolve,e);var u=[o.resolve.then(function(e){o.globals=e})];return a&&u.push(a),P(e.views,function(t,r){var n=t.resolve&&t.resolve!==e.resolve?t.resolve:{};n.$template=[function(){return i.load(r,{view:t,locals:l,params:s,notify:!1})||""}],u.push(c.resolve(n,l,o.resolve,e).then(function(n){n.$$controller=t.controller,n.$$state=e,o[r]=n}))}),t.all(u).then(function(){return o})}var w=t.reject(Error("transition superseded")),y=t.reject(Error("transition prevented"));return p.locals={resolve:null,globals:{$stateParams:{}}},m={params:{},current:p.self,$current:p,transition:null},m.go=function(e,t,r){return this.transitionTo(e,t,$({inherit:!0,relative:m.$current},r))},m.transitionTo=function(r,a,i){b(i)||(i=i===!0||i===!1?{location:i}:{}),a=a||{},i=$({location:!0,inherit:!1,relative:null},i);var c=s(r,i.relative);if(!b(c)){if(i.relative)throw Error("Could not resolve '"+r+"' from state '"+i.relative+"'");throw Error("No such state '"+r+"'")}if(c["abstract"])throw Error("Cannot transition to abstract state '"+r+"'");i.inherit&&(a=o(u,a||{},m.$current,c)),r=c;var h,k,C=r.path,P=m.$current,x=m.params,A=P.path,E=p.locals,j=[];for(h=0,k=C[h];k&&k===A[h]&&f(a,x,k.ownParams);h++,k=C[h])E=j[h]=k.locals;if(r===P&&E===P.locals)return m.transition=null,t.when(m.current);a=d(r.params,a||{});var T=e.$broadcast("$stateChangeStart",r.self,a,P.self,x);if(T.defaultPrevented)return y;for(var _=t.when(E),F=h;C.length>F;F++,k=C[F])E=j[F]=n(E),_=g(k,a,k===r,_,E);var I=m.transition=_.then(function(){var t,n,o;if(m.transition!==I)return w;for(t=A.length-1;t>=h;t--)o=A[t],o.self.onExit&&l.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(t=h;C.length>t;t++)n=C[t],n.locals=j[t],n.self.onEnter&&l.invoke(n.self.onEnter,n.self,n.locals.globals);m.$current=r,m.current=r.self,m.params=a,S(m.params,u),m.transition=null;var s=r.navigable;return i.location&&s&&v.url(s.url.format(s.locals.globals.$stateParams)),e.$broadcast("$stateChangeSuccess",r.self,a,P.self,x),m.current},function(n){return m.transition!==I?w:(m.transition=null,e.$broadcast("$stateChangeError",r.self,a,P.self,x,n),t.reject(n))});return I},m.is=function(e){var t=s(e);return b(t)?m.$current===t:r},m.includes=function(e){var t=s(e);return b(t)?b(m.$current.includes[t.name]):r},m.href=function(e,t,r){r=$({lossy:!0,inherit:!1,relative:m.$current},r||{});var n=s(e,r.relative);if(!b(n))return null;t=o(u,t||{},m.$current,n);var i=n&&r.lossy?n.navigable:n,l=i&&i.url?i.url.format(d(n.params,t||{})):null;return!a.html5Mode()&&l?"#"+l:l},m.get=function(e){var t=s(e);return t&&t.self?t.self:null},m}function d(e,t){var r={};return P(e,function(e){var n=t[e];r[e]=null!=n?n+"":null}),r}function f(e,t,r){if(!r){r=[];for(var n in e)r.push(n)}for(var a=0;r.length>a;a++){var i=r[a];if(e[i]!=t[i])return!1}return!0}function h(e,t){var r={};return P(e,function(e){r[e]=t[e]}),r}var p,m,v={},g={parent:function(e){if(b(e.parent)&&e.parent)return s(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?s(t[1]):p},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=$({},e.parent.data,e.data)),e.data},url:function(e){var r=e.url;if(y(r))return"^"==r.charAt(0)?t.compile(r.substring(1)):(e.parent.navigable||p).url.concat(r);if(t.isMatcher(r)||null==r)return r;throw Error("Invalid url '"+r+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){if(!e.params)return e.url?e.url.parameters():e.parent.params;if(!C(e.params))throw Error("Invalid params in state '"+e+"'");if(e.url)throw Error("Both params and url specicified in state '"+e+"'");return e.params},views:function(e){var t={};return P(b(e.views)?e.views:{"":e},function(r,n){0>n.indexOf("@")&&(n+="@"+e.parent.name),t[n]=r}),t},ownParams:function(e){if(!e.parent)return e.params;var t={};P(e.params,function(e){t[e]=!0}),P(e.parent.params,function(r){if(!t[r])throw Error("Missing required parameter '"+r+"' in state '"+e.name+"'");t[r]=!1});var r=[];return P(t,function(e,t){e&&r.push(t)}),r},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?$({},e.parent.includes):{};return t[e.name]=!0,t}};p=l({name:"",url:"^",views:null,"abstract":!0}),p.navigable=null,this.state=c,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function h(){function e(e,t){return{load:function(r,n){var a,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=$(i,n),n.view&&(a=t.fromConfig(n.view,n.params,n.locals)),a&&n.notify&&e.$broadcast("$viewContentLoading",n),a}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function p(e,n,a,i,o){var s=!1,l=o.has("$animate")?o.get("$animate"):null,c=function(e){return{"true":{leave:function(e){l.leave(e)},enter:function(e,t){l.enter(e,null,t)}},"false":{leave:function(e){e.remove()},enter:function(e,t){t.after(e)}}}[""+(l&&e)]},u={restrict:"ECA",compile:function(o,l){var d=o.html(),f=!0,h=t.element(document.createComment(" ui-view "));return o.prepend(h),function(t){function p(){g&&(c(!0).leave(g),g=null),v&&(v.$destroy(),v=null)}function m(s){var l=e.$current&&e.$current.locals[w],u=c(s);if(f&&(f=!1,o.replaceWith(h)),!l)return p(),g=o.clone(),g.html(d),u.enter(g,h),v=t.$new(),n(g.contents())(v),r;if(l!==b){p(),g=o.clone(),g.html(l.$template?l.$template:d),u.enter(g,h),g.data("$uiView",C),b=l,C.state=l.$$state;var m=n(g.contents());if(v=t.$new(),l.$$controller){l.$scope=v;var k=a(l.$$controller,l);g.children().data("$ngControllerController",k)}m(v),v.$emit("$viewContentLoaded"),y&&v.$eval(y),i()}}var v,g,b,w=l[u.name]||l.name||"",y=l.onload||"",k=o.parent().inheritedData("$uiView");0>w.indexOf("@")&&(w=w+"@"+(k?k.state.name:""));var C={name:w,state:null},P=function(){if(!s){s=!0;try{m(!0)}catch(e){throw s=!1,e}s=!1}};t.$on("$stateChangeSuccess",P),t.$on("$viewContentLoading",P),m(!1)}}};return u}function m(e){var t=e.match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function v(e){return{restrict:"A",link:function(t,n,a){var i=m(a.uiSref),o=null,s=e.$current,l="FORM"===n[0].nodeName,c=l?"action":"href",u=!0,d=n.parent().inheritedData("$uiView");d&&d.state&&d.state.name&&(s=d.state);var f=function(t){if(t&&(o=t),u){var a=e.href(i.state,o,{relative:s});return a?(n[0][c]=a,r):(u=!1,!1)}};i.paramExpr&&(t.$watch(i.paramExpr,function(e){e!==o&&f(e)},!0),o=t.$eval(i.paramExpr)),f(),l||n.bind("click",function(r){1!=r.which||r.ctrlKey||r.metaKey||r.shiftKey||(e.go(i.state,o,{relative:s}),t.$apply(),r.preventDefault())})}}}function g(e,t){function a(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function i(){this.locals=null,this.params=null}function o(r,o){if(null!=o.redirectTo){var s,c=o.redirectTo;if(y(c))s=c;else{if(!w(c))throw Error("Invalid 'redirectTo' in when()");s=function(e,t){return c(e,t.path(),t.search())}}t.when(r,s)}else e.state(n(o,{parent:null,name:"route:"+encodeURIComponent(r),url:r,onEnter:a,onExit:i}));return l.push(o),this}function s(e,t,n){function a(e){return""!==e.name?e:r}var i={routes:l,params:n,current:r};return t.$on("$stateChangeStart",function(e,r,n,i){t.$broadcast("$routeChangeStart",a(r),a(i))}),t.$on("$stateChangeSuccess",function(e,r,n,o){i.current=a(r),t.$broadcast("$routeChangeSuccess",a(r),a(o)),S(n,i.params)}),t.$on("$stateChangeError",function(e,r,n,i,o,s){t.$broadcast("$routeChangeError",a(r),a(i),s)}),i}var l=[];a.$inject=["$$state"],this.when=o,this.$get=s,s.$inject=["$state","$rootScope","$routeParams"]}var b=t.isDefined,w=t.isFunction,y=t.isString,k=t.isObject,C=t.isArray,P=t.forEach,$=t.extend,S=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),s.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",s),l.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",l),c.prototype.concat=function(e){return new c(this.sourcePath+e+this.sourceSearch)},c.prototype.toString=function(){return this.source},c.prototype.exec=function(e,t){var r=this.regexp.exec(e);if(!r)return null;var n,a=this.params,i=a.length,o=this.segments.length-1,s={};if(o!==r.length-1)throw Error("Unbalanced capture group in route '"+this.source+"'");for(n=0;o>n;n++)s[a[n]]=r[n+1];for(;i>n;n++)s[a[n]]=t[a[n]];return s},c.prototype.parameters=function(){return this.params},c.prototype.format=function(e){var t=this.segments,r=this.params;if(!e)return t.join("");var n,a,i,o=t.length-1,s=r.length,l=t[0];for(n=0;o>n;n++)i=e[r[n]],null!=i&&(l+=encodeURIComponent(i)),l+=t[n+1];for(;s>n;n++)i=e[r[n]],null!=i&&(l+=(a?"&":"?")+r[n]+"="+encodeURIComponent(i),a=!0);return l},t.module("ui.router.util").provider("$urlMatcherFactory",u),d.$inject=["$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",d),f.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",f),h.$inject=[],t.module("ui.router.state").provider("$view",h),p.$inject=["$state","$compile","$controller","$anchorScroll","$injector"],t.module("ui.router.state").directive("uiView",p),v.$inject=["$state"],t.module("ui.router.state").directive("uiSref",v),g.$inject=["$stateProvider","$urlRouterProvider"],t.module("ui.router.compat").provider("$route",g).directive("ngView",p)}(window,window.angular),angular.module("app",["ui.router.compat","ngAnimate","features","facebook","demo","about","ParseServices","ExternalDataServices","forms","FacebookPatch"]).value("$anchorScroll",angular.noop).config(["$stateProvider","$urlRouterProvider","$locationProvider","$anchorScrollProvider",function(e,t){t.otherwise("/"),e.state("code",{url:"/code",controller:"aboutController",templateUrl:"app/views/about.html"})}]).run(["ParseSDK","ExtendParseSDK","$rootScope","$state","$stateParams","$location",function(e,t,r,n,a,i){Parse.User.current()&&i.path("/facebook"),r.$state=n,r.$stateParams=a,r.isViewLoading=!0,r.setLoading=function(){r.isViewLoading=!0},r.unsetLoading=function(){r.isViewLoading=!1},r.$on("$stateChangeStart",function(){r.setLoading(),console.log("state change start")}),r.$on("$stateChangeSuccess",function(){r.unsetLoading(),console.log("state change complete"),console.log(r.isViewLoading)})}]),angular.module("app").run(["$templateCache",function(e){"use strict";e.put("app/scripts/modules/directives/templates/loading.html",'<div class="loadingMessage center-align ani ani-fast tinUpIn" style="position:fixed; margin-left: -100px; left:50%; top:140px; width:180px; z-index:9999999"><div class="row-fluid black-back opacity-6 withRadius width-padding small-top-padding small-bottom-padding"><div class="pull-left loading-dark line height-med" style=width:60px></div><div class=pull-left><h4 class="machine lightest-text no-height-margin line height-med">Loading</h4></div></div></div>'),e.put("app/views/about.html",'<section class=jumbotron><h1>Welcome!</h1><p class=lead>You\'re ready to start working on your next Parse AngularJS app!</p><a ng-click=createMonster() class="btn btn-secondary">Create Monster</a><br>The New Monster ID is: {{ homeCtrl.monster.id }}</section><hr><div class=row-fluid><div class="npm packages span6"><h3><a href="https://npmjs.org/">NPM</a> Packages</h3><table class="table table-striped table-bordered table-hover table-condensed"><tbody><tr ng-repeat="(module, version) in server.data.dependencies | orderBy:module"><th><a ng-href="https://npmjs.org/package/{{ module }}">{{ module }}</a></th><td class=text-right>{{ version }}</td></tr></tbody></table></div><div class="bower packages span6"><h3><a href="http://bower.io/">Bower</a> Packages</h3><pre>\r\n      \r\n      {{ client.data.dependencies }}\r\n\r\n    </pre><table class="table table-striped table-bordered table-hover table-condensed"><tbody><tr ng-repeat="(module, version) in client.data.dependencies"><th>{{ module }}</th><td class=text-right>{{ version }}</td></tr></tbody></table></div></div>'),e.put("app/views/app-layout.html",'<div class="container med-grey-back dark-dust top-margin"><div class="med-grey-back dark-dust"><div class=row-fluid><div class="contracts-phone light-back shadow-ninja left-dark right-dark hide-overflow"><div ui-view=panel></div></div></div></div></div>'),e.put("app/views/brandid-block.html",'<div class="row-fluid width-padding"><div class="muted white-back withShadow withRadius"><div class="row-fluid center-align"><img src=http://brandid.s3.amazonaws.com/logo.png alt="BRANDiD Logo" class=top-margin width=70px></div><div class="row-fluid width-padding small-top-padding bottom-padding machine center-align">If you found this useful, consider kicking shopping\'s ass at <a href=http://www.getbrandid.com>getbrandid.com</a></div></div></div>'),e.put("app/views/debug.html",'<div class="row-fluid center-align"><h5 class="machine bottom-margin muted">ui-router states</h5></div><pre>\r\n$state = {{$state.current.name}}\r\n$stateParams = {{$stateParams}}\r\n</pre>'),e.put("app/views/detail/about.list.animations.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click=transitionBack()>Back</a><h1 class="human title">Angular Animations</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-sitemap small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class=punchy>Angular Class Based Animations</h4></div></div></div><div class="row-fluid left-align muted"><span class=muted>We use <span class=bold><a href=https://github.com/brandid/animate-helpers.scss>animate-helpers.scss</a></span> which is a library we wrote that allows us to easily customise the famous <a href=https://github.com/daneden/animate.css>Animate.css</a> library for use with Angular 1.2 class based animations. Read more on that <a href=http://www.yearofmoo.com/2013/08/remastered-animation-in-angularjs-1-2.html>here</a>.</span></div></div><div class=top-margin><a href=#/about class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/about.list.bootstrap.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click=transitionBack()>Back</a><h1 class="human title">Sass Bootstrap</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-twitter small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class=punchy>Sass Bootstrap 2.3.2</h4></div></div></div><div class="row-fluid left-align muted"><span class=muted>We use <a href=https://github.com/thomas-mcdonald/bootstrap-sass>sass-bootstrap</a> which is, believe it or not, Bootstrap converted to Sass.</span></div></div><div class=top-margin><a href=#/about class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/about.list.font-awesome.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click=transitionBack()>Back</a><h1 class="human title">Font Awesome</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-flag small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class=punchy>Font Awesome is Awesome</h4></div></div></div><div class="row-fluid left-align muted"><span class=muted>Anything with the word <a href="http://fortawesome.github.io/Font-Awesome/icons/">awesome</a> in its name better be pretty damn good. Luckily it is.</span></div></div><div class=top-margin><a href=#/about class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/about.list.html",'<div class=row-fluid><div class="navi-bar-title dark"><h1 class="human title">About</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class=row-fluid><h1 class="punchy muted light-text-shadow"><i class="icon icon-info-sign small-right-margin"></i></h1></div><div class="row-fluid bottom-margin"><div class="row-fluid center-align machine"><span class=muted>We love Parse and AngularJS. We hate servers.<br><br>Whilst building <a href=https://www.getbrandid.com>getbrandid.com</a> we developed some best practices around this stack, so we decided to open source it here. We even talked about it on the <a target=_blank href="http://blog.parse.com/">Parse Blog</a>.<br><br>This boilerplate is great for launching complex database enabled apps really fast. Fork it, try it out, let us know what features you want!</span></div></div></div><div class="row-fluid white-back withShadow withRadius center-align"><a ng-click=goForwardToPath(item.path) class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top line height-med" ng-repeat="item in masterDetailCtrl.about" style=cursor:pointer><div class="span11 muted left-align"><div class=med-width-padding><div class="pull-left small-right-margin"><i class="icon {{item.icon}} icon-large small-right-margin"></i><span class="small-left-margin machine">{{item.title}}</span></div></div></div><div class="span1 muted pull-right"><i class="icon icon-chevron-right"></i></div></a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/about.list.state.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click=transitionBack()>Back</a><h1 class="human title">Angular State Manager</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-sitemap small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class=punchy>Ui-router</h4></div></div></div><div class="row-fluid left-align muted"><span class=muted>We use <span class=bold><a href=https://github.com/angular-ui/ui-router>ui-router</a></span> instead of the core Angular router because it handles application states excellently, a lot like the <a href=http://emberjs.com/api/classes/Ember.Router.html>Ember.Router</a>. This is important when building a large complex app, as you often need a better way to handle nested views, parent views and have the ability to override them depending on the application\'s state.</span></div></div><div class=top-margin><a href=#/about class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/about.list.theme.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click=transitionBack()>Back</a><h1 class="human title">BRAND<span class=lowercase>i</span>D UI Kit</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-tint small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class=punchy>Master Detail Theme + OOCSS + SASS</h4></div></div></div><div class="row-fluid left-align muted"><span class=muted>We developed a <a href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/styles/_brandid-ui.scss>UI Kit</a> that augments Twitter Bootstrap with some awesome helper classes, animations and this master-detail theme you\'re looking at now.</span><br><br><span class=muted>We subscribe to our friend <a href="http://ianstormtaylor.com/oocss-plus-sass-is-the-best-way-to-css/">Ian Storm Taylor</a>\'s philosophy of OOCSS + Sass, and our UI Kit is pretty flexible, so we hardly ever have to write ANY new classes when developing new features. This means our CSS filesize remains relatively constant.</span></div></div><div class=top-margin><a href=#/about class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/facebook.example.html",'<div class=row-fluid><div class="navi-bar-title dark"><h1 class="human title">Facebook</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class=row-fluid><h1 class="punchy muted light-text-shadow"><i class="icon icon-facebook small-right-margin"></i></h1></div></div><div class="row-fluid max-width-400 withShadow bottom-margin"><a ng-click=fbConnect() class="btn-fb btn-large"><div class=row-fluid><div class="span25-75 center-align"><h4 class="no-height-margin line height-btn"><i class="icon icon-facebook icon-large lightest-text"></i></h4></div><div class="span75-25 center-align"><span class="machine no-height-margin line normalcase height-btn lightest-text">Sign in</span></div></div></a></div></div></div>'),e.put("app/views/detail/facebook.role.html",'<div class=row-fluid><div class="navi-bar-title dark"><h1 class="human title">Tell us who you are</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid max-width-400 withShadow bottom-margin"><a ng-click=asEducator() class="btn-fb btn-large"><div class=row-fluid><div class="span75-25 center-align"><span class="machine no-height-margin line normalcase height-btn lightest-text">Educator</span></div></div></a></div><div class="row-fluid max-width-400 withShadow bottom-margin"><a ng-click=asDeveloper() class="btn-fb btn-large"><div class=row-fluid><div class="span75-25 center-align"><span class="machine no-height-margin line normalcase height-btn lightest-text">Developer</span></div></div></a></div></div></div>'),e.put("app/views/detail/features.list.cloud-code.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/features>Back</a><h1 class="human title">Angular Cloud Code Wrapper</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-cloud small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class="punchy small-bottom-margin">A Service to Wrap Parse Cloud Code Calls</h4></div></div></div><div class="row-fluid left-align muted">We really love AngularJS. However, you often hit the WTF ZONE of Angular, especially when you try to update scope variables outside of the "Angular Kingdom". Since all your data will be pulled in asynchronously from Parse, you\'ll run in to this issue pretty quickly.<br><br>So we wrote <strong><a href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/ParseCloudCodeAngular.js>ParseCloudCodeAngular</a></strong>, a simple AngularJS wrapper for the Parse.Cloud.run, saving even more boilerplate code. We\'re also using deferred promises, because they\'re awesome. This allows you to call Parse.Cloud.run, pass in any parameters, and it wraps the result in a promise <em>inside</em> the "Angular Kingdom". Here\'s an example:<em></em><br><br><pre>ParseCloudCodeAngular(\'customCloudCodeFunction\',dataToSend);</pre><br>This single line of code calls Parse.Cloud.run, passes in your data and wraps the result in an AngularJS promise.<br><br>Here\'s how it works:<br><br><strong><a href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/ParseQueryAngular.js>ParseCloudCodeAngular.js</a></strong><pre>angular.module(\'ParseServices\')\r\n\r\n.factory(\'ParseCloudCodeAngular\',[\'$q\',\'$timeout\',\'ParseQueryAngular\',function ($q, $timeout, ParseQueryAngular) { \r\n	return function(name,params) {\r\n    	return ParseQueryAngular(Parse.Cloud,{functionToCall:"run",params:[name,params]});\r\n  }\r\n}]);</pre><br>Just a simple shortcut to keep your code DRY.</div></div><div class=top-margin><a href=#/features class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/features.list.data.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/features>Back</a><h1 class="human title">AngularJS & Backbone</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-heart small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class="punchy small-bottom-margin">AngularJS + Backbone.js = <i class="icon icon-heart"></i></h4><span class=muted>AngularJS for views, Backbone for models</span></div></div></div><div class="row-fluid left-align muted">The awesome thing about the Parse Javascript SDK is that it\'s a fork of Backbone, so we can make use of the kickass Model and Collection architecture, but still use AngularJS for all UI events and views (this is where Backbone loses out to other frameworks).<br><br>The best way to stay organised is to separate each Parse Object definition into a separate file in a <strong>data</strong> folder. Each definition is a factory of an overall Angular module we have called \'ExternalDataServices\' which you\'ll see is first declared above in #2. Extending the \'ExternalDataServices\' module with new factories is easy, just leave out the square brackets. Here\'s what our folder structure looks like with this architecture.<br><br><pre>|-- app\r\n  |-- scripts\r\n    |-- modules\r\n      |-- data\r\n        // this is where all your model definitions \r\n        |-- Monster.js</pre>And this is what a Parse Object definition would look like:<br><br><strong><a target=_blank href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/modules/data/Monsters.js>Monsters.js</a></strong><pre>// Monster.js\r\n\r\n// reference the module we declared earlier\r\nangular.module(\'ExternalDataServices\')\r\n\r\n// add a factory\r\n.factory(\'MonsterService\', [\'ParseQueryAngular\', function(ParseQueryAngular) {\r\n\r\n  // use the extendAngular instead of just extend to gain enhanced Angular functionality\r\n\r\n  var Monster = Parse.Object.extendAngular({\r\n    className:"Monster",\r\n    setScaryMove: function(move) {\r\n      this.set(\'scaryMove\',move);\r\n      return this;\r\n    }\r\n  });\r\n  \r\n\r\n  // use the extendAngular instead of just extend to gain enhanced Angular functionality\r\n\r\n  var Monsters = Parse.Collection.extendAngular({\r\n    model: Monster,\r\n    loadMonstersWithMove: function(move) {\r\n      this.query = (new Parse.Query(Monster));\r\n\r\n      // use the enhanced load() function to fetch the collection\r\n      return this.load();\r\n    }\r\n  });\r\n\r\n  // Return a simple API : model or collection.\r\n  return {\r\n    model: Monster,\r\n    collection: Monsters\r\n  }\r\n\r\n}])</pre><br>Now wherever we need a Monster model or collection, like in the directive below, we can instantiate it using the MonsterService like this:<br><br><pre>// SomeDirective.js\r\n\r\n// inject the MonsterService into your directive\r\n\r\nangular.module(\'foo\',[]).directive(\'bar\',[\'MonsterService\',function(\r\n\r\n  return {\r\n    controller: [\'$scope\',\'$element\',\'$attrs\', function($scope, $element, $attrs) {\r\n\r\n      // new up a collection so we can use it to perform a query\r\n      var monsters = new MonsterService.collection;\r\n\r\n      // perform the Parse.Query\r\n      $scope.monsters = monsters.loadMonstersWithMove(\'fireBreath\');\r\n\r\n      // and remember its a promise, so we can add synchronous logic here with a .then()\r\n\r\n    }\r\n  }]\r\n\r\n}])</pre><br>A great side-effect of injecting your Parse data services only when you need it is that AngularJS\'s awesome dependency injection system knows when to remove this stuff from memory. Also, if you build your app in a modular way, in Angular 2.0 you will also be able to take advantage of lazy loading modules which will speed up the load-time of your app tremendously.</div></div><div class=top-margin><a href=#/features class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/features.list.facebook.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/features>Back</a><h1 class="human title">Parse & Facebook SDK</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-facebook-sign small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class="punchy small-bottom-margin">Use a Promise to Init Parse.FacebookUtils</h4><span class=muted>Allowing you to asynchronously Load the Parse SDK and the Facebook SDK</span></div></div></div><div class="row-fluid left-align muted">We all know that we should asynchronously load the Facebook SDK near the closing <span class=bold>body</span> tag to speed up page loads. We load the Parse SDK here too instead of in the <span class=bold>head</span>for the same reason. But if you try to<span class=bold></span>asynchronously load the <span class=bold>Parse SDK and Facebook SDK</span> you will run into the problem where Parse will try to call FB.init() at some point, and the FB object does not exist because the Facebook SDK has not yet loaded.<br><br>We developed an clever way to get around this. The key thing here is that Facebook calls a function <span class=bold>window.fbAsyncInit</span> as soon as the SDK is finished loading. We use this to resolve the <span class=bold>window.fbPromise</span>, which in turn is used to trigger <span class=bold>Parse.FacebookUtils.init()</span>. This method is flawless, and you never get any out of sync errors. Here\'s the code to define the <span class=bold>fbPromise</span>:<br><br><strong><a target=_blank href=https://github.com/brandid/parse-angular-demo/blob/master/index.html>index.html</a></strong><pre>\r\n\r\n  var fbDeferred = $.Deferred();\r\n  window.fbPromise = fbDeferred.promise();\r\n  window.fbAsyncInit = function() {\r\n    fbDeferred.resolve();\r\n  };\r\n\r\n</pre><br>... and here\'s the code to subsequently trigger the init()<br><br><strong><a target=_blank href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/ParseServices.js>ParseServices.js</a></strong><pre>\r\n// FACEBOOK init\r\nwindow.fbPromise.then(function() {\r\n  Parse.FacebookUtils.init({\r\n    appId: /*** FB APP ID ***/, \r\n    channelUrl: /*** HTTP://YOURDOMAIN.COM/ ***/channel.html\',\r\n    cookie: true, // enable cookies to allow Parse to access the session\r\n    xfbml: true, // parse XFBML\r\n    frictionlessRequests: true // recommended\r\n  });\r\n});\r\n</pre>Simple, elegant, highly effective.</div></div><div class=top-margin><a href=#/features class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/features.list.facebookSDK.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/features>Back</a><h1 class="human title">Facebook API Wrapper</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-facebook-sign small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius top-margin top-padding bottom-padding width-padding"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class="punchy small-bottom-margin">FB.api wrapped in an Angular Promise</h4><span class=muted>Extending the Facebook JavaScript SDK with FB.apiAngular</span></div></div></div><div class="row-fluid left-align muted">So what did we do <a href=#/facebook>here</a>? We made it an actual joy to work with the Facebook API.<br><br><span class=bold>1. Wrapped all FB.api calls in an AngularJS promise</span><br>For the same reason we need to wrap all Parse calls in an Angular promise, we need to do it with all <span class=bold>FB.api</span> calls too.<br><br>This is because <span class=bold>FB.api</span> performs requests outside the Angular kingdom. We took inspiration from our Parse wrapper and created a similar one for <span class=bold>FB.api</span>.<br><br><span class=bold>2. Extended Facebook JS SDK with FB.apiAngular</span><br>So after creating a cleanly wrapped Angular promise for <span class=bold>FB.api</span>, we gave ourselves access to it by extended the Facebook SDK with the <span class=bold>FB.apiAngular</span> method. Now, instead of calling <span class=bold>FB.api</span>, you just call <span class=bold>FB.apiAngular</span>, and you get to use the Facebook SDK with promises!<br><br><strong><a target=_blank href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/controllers/facebook-example.js>facebook-example.js</a></strong><pre>\r\n\r\n  $scope.exampleCall = function() {\r\n\r\n    FB.apiAngular(\r\n      \'/me/apprequests\',\r\n      { message: \'From the app to the user.\' },\r\n      \'POST\')\r\n\r\n    .then(function(data) {\r\n\r\n      alert(\'done\'); console.log(data)\r\n    \r\n    }, function(error) {\r\n    \r\n    $scope.facebookCtrl.response = error.message;\r\n  \r\n  });\r\n\r\n  }\r\n\r\n</pre><br><br>Check out <strong><a href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/FacebookAngularPatch.js>FacebookAngularPatch.js</a></strong> to see exactly how we extended the FB SDK with the FB.apiAngular method.</div></div><div class=top-margin><a href=#/features class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/features.list.html",'<div class=row-fluid><div class="navi-bar-title dark"><h1 class="human title">FEATURES</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class=row-fluid><h1 class="punchy muted light-text-shadow"><i class="icon icon-bolt small-right-margin"></i></h1></div><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><span class="muted machine">Some best practices from our <a href="http://blog.parse.com/2013/10/17/guest-post-parse-x-angular-js-boilerplate/" target=new>guest blog post</a> on Parse.com</span></div></div></div><div class="row-fluid white-back withShadow withRadius center-align"><a href={{item.path}} class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top line height-med" ng-repeat="item in masterDetailCtrl.features" ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }"><div class="span11 muted left-align"><div class=med-width-padding><div class="pull-left small-right-margin"><i class="icon {{item.icon}} icon-large small-right-margin"></i><span class="small-left-margin machine">{{item.title}}</span></div></div></div><div class="span1 muted pull-right"><i class="icon icon-chevron-right"></i></div></a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/features.list.parse-sdk.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/features>Back</a><h1 class="human title">Extend Parse SDK</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-cogs small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class="punchy small-bottom-margin">Give Parse AngularJS Superpowers</h4><span class=muted>Extending Parse.Object gives all your Parse data load() and save() methods auto wrapping them in AngularJS promises</span></div></div></div><div class="row-fluid left-align muted">With the simple code below, we beefed up all our Parse objects and collections with enhanced functionality, allowing us to save and load any Parse.Object or Parse.Collection inside the AngularJS digest with finesse.<br><br><strong><a target=_blank href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/ParseServices.js>ParseServices.js</a></strong><pre>\r\n  Parse.Object.extendAngular = function(options) {\r\n    return ParseAbstractService.EnhanceObject(Parse.Object.extend(options));\r\n  };\r\n\r\n  Parse.Collection.extendAngular = function(options) {\r\n    return ParseAbstractService.EnhanceCollection(Parse.Collection.extend(options));\r\n  };\r\n</pre><br>It doesn\'t take a genius to notice that this requires something we called ParseAbstractService, which is a simple bit of code that adds the Parse.Object and Parse.Collection methods.<br><br><strong><a target=_blank href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/modules/data/_ParseObjects.js>_ParseObjects.js</a></strong><pre>angular.module(\'ExternalDataServices\',[])\r\n.factory(\'ParseAbstractService\', [\'ParseQueryAngular\', function(ParseQueryAngular) {\r\n /********\r\n This service provides an enhanced Parse.Object and Parse.Collection\r\n So we can call load and saveParse from any extending Class and have that wrapped\r\n within ParseQueryAngular\r\n **********/\r\n\r\n  var object = function(originalClass) {\r\n    originalClass.prototype = _.extend(originalClass.prototype,{\r\n      load:function() {\r\n        return ParseQueryAngular(this,{functionToCall:"fetch"});\r\n      },\r\n      saveParse:function(data) {\r\n        if (data &amp;&amp; typeof data == "object") this.set(data);\r\n        return ParseQueryAngular(this,{functionToCall:"save", params:[null]});\r\n      }\r\n    });\r\n   return originalClass;\r\n  }\r\n\r\n  var collection = function(originalClass){\r\n    originalClass.prototype = _.extend(originalClass.prototype,{\r\n      load:function() {\r\n        return ParseQueryAngular(this,{functionToCall:"fetch"});\r\n      }\r\n    });\r\n    return originalClass;\r\n  };\r\n\r\n  return {\r\n    EnhanceObject:object,\r\n    EnhanceCollection:collection\r\n  }\r\n}]);</pre><br>We can now make use of these new methods on any models or collections that extend Parse.Object.extendAngular or Parse.Collection.extendAngular, like so:<br><br><pre>// =============\r\n// new way using enhanced Parse.Object\r\n// =============\r\n\r\nvar collection = new TestCollection();\r\ncollection.load();</pre><br>For a clearer idea of how much more awesome this is, below is the old way:<br><br><pre>// ============\r\n// old way\r\n// ============\r\n\r\nvar collection = new TestCollection();\r\n\r\nvar defer = $q.defer();\r\n\r\n// fetch all models\r\ncollection.fetch({\r\n  success: function(result) {\r\n    $rootScope.$apply(function() {\r\n      defer.resolve(result);\r\n  },\r\n  error: function(error) {\r\n    $rootScope.$apply(function() {\r\n      defer.reject(error);\r\n    }\r\n  }\r\n});\r\n\r\ndefer.promise.then(function(data) {\r\n\r\n  collection = data;\r\n  // now, finally the collection is ready to use in AngularJS\r\n});</pre><br>Yuck! And you would have to repeat all that for every save or fetch!</div></div><div class=top-margin><a href=#/features class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/features.list.parse.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/features>Back</a><h1 class="human title">Parse Angular Wrapper</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-cloud small-right-margin"></i></h1></div></div><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class="row-fluid bottom-margin"><div class="row-fluid center-align"><h4 class="punchy small-bottom-margin">A Service to Wrap All Parse Calls</h4><span class=muted>Saving you from writing the same code over and over</span></div></div></div><div class="row-fluid left-align muted">We really love AngularJS. However, you often hit the WTF ZONE of Angular, especially when you try to update scope variables outside of the "Angular Kingdom". Since all your data will be pulled in asynchronously from Parse, you\'ll run in to this issue pretty quickly.<br><br>So we wrote <strong><a href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/ParseQueryAngular.js>ParseQueryAngular</a></strong>, a simple AngularJS wrapper for the Parse JS SDK, saving gazillions of lines of code (at least), and we\'re also using deferred promises, because they\'re awesome. This allows you to call any Parse API method on any Parse.Object, pass in any parameters, and it wraps the result in a promise <em>inside</em> the "Angular Kingdom". Here\'s an example:<em></em><br><br><pre>ParseQueryAngular(Parse.FacebookUtils,{functionToCall:"link", params:[user, "email,user_likes,publish_actions"]})</pre><br>This single line of code calls Parse.FacebookUtils.link to connect the current Parse User with their Facebook account, and passes in some parameters for permissions and wraps the result in an AngularJS promise.<br><br>If you\'re familiar with the Parse docs, you \'ll notice something magical here: there is no need to write the same old success: and error: functions every time you make an API call to Parse.<br><br>If you\'re familiar with AngularJS you\'ll also notice something magical here: the result of the API call is automatically wrapped into the AngularJS digest for use within your $scope. No need to do any<strong>$scope.$apply</strong>nonsense. Here\'s another example that we do all the time:<br><br><pre>var user = new Parse.User();\r\n\r\nuser.set(\'username\', \'spacenick\');\r\nuser.set(\'password\', \'sp4c3n1ck\');\r\nuser.set(\'email\',\'space@nick.com\');\r\n\r\nParseQueryAngular(user,{functionToCall:"signUp", params:[null]}).then(function(registeredUser) {\r\n\r\n    // since we know that the result will be inside the Angular digest, we make use of Angular\'s two-way data binding and automatically update all our views by simply updating the user object\r\n\r\n    user = registeredUser;\r\n\r\n    // we can even use it with Parse.Query\r\n    var query = new Parse.Query(MyObject);\r\n    query.include(\'myStuff\').equalTo(\'someRandom\',\'thing\');\r\n    return ParseQueryAngular(query);\r\n}).then(function(queriedObj) {\r\n\r\n    // assuming $scope.obj is used elsewhere in the app, this would update any views automatically\r\n    $scope.obj = queriedObj;\r\n\r\n    return queriedObj;\r\n}, function(error) {\r\n\r\n    // any rejected promises in the chain will be caught here\r\n    console.log(error);\r\n\r\n});</pre><br>Without ParseQueryAngular, doing two API calls one after the other would have been a nightmare of asynchronous spaghetti mess with lots of repetitive callback handling code. We just tamed it into a synchronous process and our AngularJS views would have been auto-updated every step of the way thanks to two-way data binding.<br><br>We also didn\'t need write any repetitive success: error: functions. This is the guts of creating a seamless Parse x Angular integration, we use this anytime we need talk to Parse. Check out the <strong><a href=https://github.com/brandid/parse-angular-demo/blob/master/client/app/scripts/services/ParseQueryAngular.js>ParseQueryAngular</a></strong> source and read the code comments on how we did this.</div></div><div class=top-margin><a href=#/features class="btn btn-block btn-secondary btn-large">Back</a></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/ideas.detail.create.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/ideas/{{detailCtrl.current.id}}>Back</a><h1 class="human title">Edit</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-user small-right-margin"></i></h1></div></div><div id=loadingContainer class="relative row-fluid"><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class="row-fluid left-align"><form name=editForm class=form-horizontal novalidate><div class=control-group><label class=control-label for=inputTitle>Title</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.title placeholder=Title required></div></div><div class=control-group><label class=control-label for=inputTout>Tweetable</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.tout placeholder="140 chars or less" required></div></div><div class=control-group><label class=control-label for=inputTarget>Target Audience</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.target placeholder=Target required></div></div><div class=control-group><div class=controls><button ng-click=detailCtrl.createIdea() class="btn btn-block btn-large btn-success">Create Idea</button></div></div></form></div></div></div><div class=row-fluid></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/ideas.detail.edit.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev ng-click="setAnimationClass(\'moveleft\')" href=#/ideas/{{detailCtrl.current.id}}>Back</a><h1 class="human title">Edit</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-user small-right-margin"></i></h1></div></div><div id=loadingContainer class="relative row-fluid"><div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class="row-fluid left-align"><form name=editForm class=form-horizontal novalidate><div class=control-group><label class=control-label for=inputTitle>Title</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.title placeholder=Title required></div></div><div class=control-group><label class=control-label for=inputTout>Tweetable</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.tout placeholder="140 chars or less" required></div></div><div class=control-group><label class=control-label for=inputTarget>Target Audience</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.target placeholder=Target required></div></div><div class=control-group><label class=control-label for=inputSummary>Idea Summary</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.summary placeholder=Summary required></div></div><div class=control-group><label class=control-label for=inputPitchVideoUrl>Pitch Video (optional)</label><div class=controls><input style=width:97% ng-model=detailCtrl.editCurrent.pitchVideoUrl placeholder="60 seconds or less"></div></div><div class=control-group><div class=controls><button ng-click=detailCtrl.saveIdea() class="btn btn-block btn-large btn-success">Save Idea</button></div></div></form></div></div></div><div class=row-fluid></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/ideas.detail.html",'<div class=row-fluid><div class="navi-bar-title dark"><a class=navi-button-prev href=/#><i class="icon icon-th-list small-right-margin"></i>List</a><h1 class="human title">{{detailCtrl.current.getTitle()}}</h1><a class=navi-button-main href=#/ideas/{{detailCtrl.current.id}}/edit>Edit</a></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class="row-fluid bottom-margin"><h1 class="punchy muted light-text-shadow"><i class="icon icon-user small-right-margin"></i></h1></div></div><div class="span8 row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div class=row-fluid><div class=row-fluid><div class="row-fluid center-align"><h4 class=punchy>Problem Statement</h4><span class="machine muted">{{detailCtrl.current.getTitle()}}</span></div></div></div><span ng-if=detailCtrl.current.getPitchVideoUrl()><div class="horizontal-line full-fade top-margin bottom-margin"></div><h4 class=punchy>Pitch Video</h4><iframe width=420 height=315 src={{trustSrc(detailCtrl.current.getPitchVideoUrl())}} frameborder=0 allowfullscreen></iframe></span><div class="horizontal-line full-fade top-margin bottom-margin"></div><h4 class=punchy>Pitch Summary</h4><span class="machine muted">{{detailCtrl.current.getSummary()}}</span></div><div class="span3 row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align"><div style=margin-bottom:15px><h3><span style=display:block>{{detailCtrl.current.getEducatorVotes()}}</span>Educator Endorsements</h3><button ng-click=detailCtrl.endorse() class="btn btn-block btn-large btn-success">+ Endorse</button></div><div><h3><span style=display:block>{{detailCtrl.current.getDeveloperVotes()}}</span>Technologists</h3><button ng-click=detailCtrl.volunteer() class="btn btn-block btn-large btn-info">+ Volunteer</button></div></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/ideas.hero.html","<div class=hero-unit><h1>This is an awesome idea</h1><iframe width=560 height=315 src=//www.youtube.com/embed/kjrBjgQbzLA frameborder=0 allowfullscreen></iframe></div>"),e.put("app/views/detail/ideas.html",'<div class=row-fluid><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid span12 featured-idea"><iframe ng-src={{trustSrc(featuredIdea.getPitchVideoUrl())}} frameborder=0 allowfullscreen class=span9></iframe><a class=next-link ng-click=nextFeature()>Next Pitch</a><div class="span3 description"><div class=traction><h3>TRACTION</h3><span>{{featuredIdea.getTraction()}}</span></div><h3>{{featuredIdea.getTitle()}}</h3><p>"{{featuredIdea.getSummary()}}"</p></div></div><div class=row-fluid><div class="pull-left span6"><h3>New</h3><div class="row-fluid white-back withShadow withRadius center-align idea-link" ng-repeat="item in ideasCtrl.collection.models" ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }"><a href=#/ideas/{{item.id}} class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top"><div class=traction><label>TRACTION</label><span>{{item.getTraction()}}</span></div><div class=title><h3>{{item.getTitle()}}</h3><div class=summary><span class="small-left-margin machine">{{item.getSummary()}}</span></div></div></a></div></div><div class="pull-right span6"><h3>Recent</h3><div class="row-fluid white-back withShadow withRadius center-align idea-link" ng-repeat="item in ideasCtrl.collection.models" ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }" ng-fil=""><a href=#/ideas/{{item.id}} class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top"><div class=traction><label>TRACTION</label><span>{{item.getTraction()}}</span></div><div class=title><h3>{{item.getTitle()}}</h3><div class=summary><span class="small-left-margin machine">{{item.getSummary()}}</span></div></div></a></div></div></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/detail/ideas.list.html",'<div class=row-fluid><div class="navi-bar-title dark"><h1 class="human title">Proposals</h1><a ng-click=createIdea() class=navi-button-main><i class="icon icon-plus"></i></a></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class=row-fluid><h1 class="human muted light-text-shadow"><i class="icon icon-cloud small-right-margin"></i></h1></div><div class="row-fluid top-margin big-bottom-margin"><div class="row-fluid center-align"><span class="muted machine">PITCH. GROW. VOTE. BUILD.</span></div></div></div><div class="row-fluid white-back withShadow withRadius center-align"><a href=#/ideas/{{item.id}} class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top" ng-repeat="item in masterDetailCtrl.collection.models" ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }"><div class="span90-10 muted"><div class="row-fluid tiny-bottom-margin"><div class="span20-80 right-align"><span class="machine bold">Proposal:</span></div><div class="span80-20 left-align"><div class="small-left-margin machine">{{item.getName()}}</div></div></div><div class=row-fluid><div class="span20-80 right-align"><span class="machine bold">Details:</span></div><div class="span80-20 left-align"><span class="small-left-margin machine">{{item.getReason()}}</span></div></div></div><div class="span10-90 muted center-align small-top-padding"><div class=small-top-margin><i class="icon icon-chevron-right"></i></div></div></a></div></div></div>'),e.put("app/views/detail/welcome.html",'<div class=row-fluid><div class="navi-bar-title dark"><h1 class="human title">Welcome to the Golden Egg Room!</h1></div><div class="row-fluid width-padding top-padding bottom-padding"><div class="row-fluid center-align"><div class=row-fluid><h1 class="punchy muted light-text-shadow"><i class="icon icon-info-sign small-right-margin"></i></h1></div><div class="row-fluid bottom-margin"><div class="row-fluid center-align machine"><span class=muted>Got an idea? Post an idea here!</span></div></div></div><div class="two-thirds relative"><div ui-view=detail booty-shake=""></div></div></div><div class=row-fluid ng-include="" src="\'app/views/footer.html\'"></div></div>'),e.put("app/views/footer.html",""),e.put("app/views/header.html",'<header class="row-fluid center-align"><div class="row-fluid top-margin top-nav-bar"><img src=img/egg-gold.png alt=logo width=45 height=45> <a href="#/">Ideas</a> <a href=javascipt:>How it works</a><input value=search><a href=#/create class=btn-topnav>Launch an idea</a><div style="float:right; padding-right: 10px"><a class=lnk-login href=#/facebook>Log in</a><div class=user-info style=display:none><div class=user-pic style="width:50px; height: 50px; float: right"></div><div class=user-role style=color:blue></div><div class=user-name style=color:blue></div></div></div><div style=clear:both></div></div><div class="row-fluid top-nav-bar"><br><br><img src=img/egg-gold.png alt=logo width=100 height=100></div><div class="row-fluid top-nav-bar"><h1>Golden Egg</h1><h3>Ideas for education leade</h3></div></header>'),e.put("app/views/leftnav.html","<div ng-controller=MenuController></div>"),e.put("app/views/master-detail.html",'<div class=row-fluid><div><div ng-class=masterDetailCtrl.animate ui-view=detail booty-shake=""></div></div></div>'),e.put("app/views/tips/crud-tips.html","<div class=row-fluid><h5 class=punchy>How To CRUD:</h5></div><pre class=\"muted white-back left-align ani flash\">\r\n// create\r\n$scope.masterDetailCtrl.collection.addComment('Joe', 'exploding feces')\r\n\r\n// update\r\ncurrent.set('name', 'Bob');\r\nParseQueryAngular(current, {functionToCall:\"save\", params:[null]});\r\n\r\n// delete\r\nParseQueryAngular(current, {functionToCall:\"destroy\"});\r\n</pre>"),e.put("app/views/tips/load-collections.html",'<div class=row-fluid><h5 class=punchy>How To Load Collections:</h5></div><pre class="muted white-back left-align ani flash">\r\n// get the collection from our data definitions\r\nvar Monsters = Monsterservice.collection;\r\n\r\n// new up a collection\r\n$scope.masterDetailCtrl.collection = new Monsters;\r\n\r\n// use the extended Parse SDK to load the whole collection\r\n$scope.masterDetailCtrl.collection.load();\r\n</pre>'),e.put("app/views/welcome.html","<div class=row-fluid>test</div>")
}]),angular.module("demo",["ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("demo",{"abstract":!0,views:{"@":{templateUrl:"app/views/app-layout.html"},"panel@demo":{templateUrl:"app/views/master-detail.html",controller:"IdeasController",resolve:{ideas:["IdeaService",function(e){var t=new e.collection;return t.load()}]}}}}).state("demo.ideas",{url:"/",views:{"detail@demo":{templateUrl:"app/views/detail/ideas.html"},"hero@demo.ideas":{templateUrl:"app/views/detail/ideas.hero.html"}}}).state("demo.ideas.detail",{url:"ideas/{monsterId}",views:{"detail@demo":{templateUrl:"app/views/detail/ideas.detail.html",controller:"DetailController"}}}).state("demo.ideas.detail.edit",{url:"/edit",views:{"detail@demo":{templateUrl:"app/views/detail/ideas.detail.edit.html",controller:"DetailController"}}}).state("demo.create",{url:"/create",views:{"detail@demo":{templateUrl:"app/views/detail/ideas.detail.create.html",controller:"DetailController"}}})}]),angular.module("features",["demo","ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("demo.features",{"abstract":!0}).state("demo.features.list",{url:"/features",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.html"}}}).state("demo.features.list.facebook",{url:"/facebook",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.facebook.html"}}}).state("demo.features.list.facebookSDK",{url:"/facebookSDK",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.facebookSDK.html"}}}).state("demo.features.list.parse",{url:"/parse",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.parse.html"}}}).state("demo.features.list.cloudCode",{url:"/cloud-code",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.cloud-code.html"}}}).state("demo.features.list.parseSDK",{url:"/parse-sdk",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.parse-sdk.html"}}}).state("demo.features.list.data",{url:"/data",views:{"detail@demo":{templateUrl:"app/views/detail/features.list.data.html"}}})}]),angular.module("facebook",["ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("demo.facebook",{"abstract":!0,templateUrl:"app/views/app-layout.html"}).state("demo.facebook.example",{url:"/facebook",views:{"detail@demo":{templateUrl:"app/views/detail/facebook.example.html",controller:"FacebookExampleController",resolve:{goldenEggUsers:["GoldenEggUserService",function(e){var t=new e.collection;return t.load()}]}}}}).state("demo.facebook.role",{url:"/facebook/role",views:{"detail@demo":{templateUrl:"app/views/detail/facebook.role.html",controller:"FacebookExampleController",resolve:{goldenEggUsers:["GoldenEggUserService",function(e){var t=new e.collection;return t.load()}]}}}})}]),angular.module("about",["demo","ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("demo.about",{"abstract":!0}).state("demo.about.list",{url:"/about",views:{"detail@demo":{templateUrl:"app/views/detail/about.list.html"}}}).state("demo.about.list.state",{url:"/state",views:{"detail@demo":{templateUrl:"app/views/detail/about.list.state.html"}}}).state("demo.about.list.animations",{url:"/animations",views:{"detail@demo":{templateUrl:"app/views/detail/about.list.animations.html"}}}).state("demo.about.list.theme",{url:"/theme",views:{"detail@demo":{templateUrl:"app/views/detail/about.list.theme.html"}}}).state("demo.about.list.bootstrap",{url:"/bootstrap",views:{"detail@demo":{templateUrl:"app/views/detail/about.list.bootstrap.html"}}}).state("demo.about.list.fontAwesome",{url:"/font-awesome",views:{"detail@demo":{templateUrl:"app/views/detail/about.list.font-awesome.html"}}})}]),angular.module("app").directive("bootyShake",["$timeout",function(e){return{link:function(t,r){t.$on("bootyShake",function(){r.addClass("ani shake ani-fast"),e(function(){r.removeClass("ani shake ani-fast")},400)})}}}]),angular.module("forms",[]).directive("editIdeaForm",["ParseQueryAngular","$location",function(e,t){var r=function(e,t,r){e.append('<div id="'+t+'" class="important-white-back opacity-9 loading absolute top" style="width:100%; height:100%;"><div class="v-outer-container" style="height: 100%"><div class="v-inner-container"><div class="v-aligned-content big-top-margin"><span class="muted">'+r+"</span></div></div></div></div>")};return{restrict:"A",scope:{ideaToSave:"="},link:function(e,n){e.editedIdea={title:null,summary:null,pitchVideoUrl:null},e.$watch("ideaToSave.attributes.title",function(t){e.editedIdea.title=t}),e.$watch("ideaToSave.attributes.summary",function(t){e.editedIdea.summary=t}),e.$watch("ideaToSave.attributes.pitchVideoUrl",function(t){e.editedIdea.pitchVideoUrl=t}),e.saveIdea=function(){var a=$("#loadingContainer");r(a,"savingForm","Saving"),n.find("button").attr("disabled","disabled"),e.ideaToSave.setTitle(e.editedIdea.title),e.ideaToSave.setSummary(e.editedIdea.summary),e.ideaToSave.setPitchVideoUrl(e.editedIdea.pitchVideoUrl),e.ideaToSave.saveParse().then(function(e){$("#savingForm").remove(),t.path("/ideas/"+e.id)},function(e){alert("Error saving to Parse, check the console and network tab"),console.log(e)})}}}}]),angular.module("app").directive("viewLoading",function(){return{templateUrl:"app/scripts/modules/directives/templates/loading.html"}}),angular.module("app").controller("MenuController",["$scope","$state",function(e,t){e.menuCtrl={menu:[{name:"Educator",state:"edu",activeFor:["demo","features","facebook","about"],icon:"icon-user",href:"#/edu/"},{name:"Developer",state:"dev",activeFor:["code"],icon:"icon-github",href:"#/dev/"}]},e.isActive=function(e){var r=t.current.name.split(".");return r=r[0],_.indexOf(e.activeFor,r)>=0?"active":void 0}}]),angular.module("demo").controller("MasterDetailController",["$rootScope","$location","$scope","$state","MonsterService","monsters",function(e,t,r,n,a,i){r.masterDetailCtrl={animate:"crossfade",collection:i,menu:[{title:"Ideas",icon:"icon-cloud",path:"#/ideas",state:"demo.ideas"},{title:"Login",icon:"icon-facebook",path:"#/facebook",state:"demo.facebook.example"},{title:"FAQ",icon:"icon-info-sign",path:"#/faq/",state:"demo.about.list"}],projects:[{title:"Project 1",icon:"icon-code",path:"#/features/data"},{title:"Project 2",icon:"icon-cloud",path:"#/features/parse"},{title:"Project 3",icon:"icon-cloud",path:"#/features/cloud-code"},{title:"Project 4",icon:"icon-facebook-sign",path:"#/features/facebookSDK"}],about:[]},r.goBackTo=function(e){n.transitionTo(e)},r.transitionBack=function(){var e=n.current.name.split(".");e.pop();var t=e.join(".");n.transitionTo(t)},r.goForwardToPath=function(e){"#"==e.charAt(0)&&(e=e.substring(1)),t.path(e)},r.transitionTo=function(t){n.current.name.indexOf(t)>=0?e.$broadcast("bootyShake"):(e.setLoading(),r.masterDetailCtrl.animate=t.indexOf(n.current.name)>=0?"crossfade":"crossfade",n.transitionTo(t))},r.isActiveState=function(e){return n.current.name.indexOf(e)>=0?"white-back shadow-ninja right-light inset":void 0},r.createMonster=function(){var e=["Sebastian Vettel","Fernando Alonso","Kimi Raikkonen","Lewis Hamilton","Mark Webber","Nico Rosberg","Felipe Massa","Romain Grosjean","Jenson Button","Paul di Resta","Nico Hulkenberg","Adrian Sutil","Sergio Perez","Daniel Ricciardo","Jean-Eric Vergne","Pastor Maldonado","Esteban Gutierrez","Valtteri Bottas","Jules Bianchi","Charles Pic"],t=['Because what the hell is a: "through button bias cut front and centre back box pleat with hanger loop, finished with mitred button cuffs, bias cut spade chest pocket, contrast lined back yoke and curved hem." - (bensherman.com)',"Missed the returns window? Fuck you very much.","On mobile? Forget about it","They know I'm a dude, but they keep emailing me chicks shoes! WTF","I don't even wanna think about dealing with customer support or the lack thereof","I don't have to pay to try clothes on in a store, so why do I have to pay to try 2 different sizes online?","Because I know I'm gonna get screwed with the returns","Paid $80 for a shirt that doesn't fit because I lost the returns form","Because they're banking on me to screw up the returns",'"Oh sorry sir, didn\'t you read the terms? You pay return shipping and a 10% restocking fee"',"What happens if it doesn't fit?","Why pay for shipping when I can go to the mall?"],n=Math.floor(Math.random()*e.length),a=Math.floor(Math.random()*t.length);r.masterDetailCtrl.collection.addMonster(e[n],t[a]).then(function(){alert("You created a new object for: "+r.masterDetailCtrl.collection.first().get("name"))})},r.destroyMonster=function(e){e.destroyParse().then(function(){alert("Destroyed model with destroyParse()"),n.transitionTo("demo.crud")})}}]),angular.module("demo").controller("DetailController",["$rootScope","$scope","$state","$stateParams","$sce","$location","IdeaService",function(e,t,r,n,a,i){t.detailCtrl={current:null},t.detailCtrl.current=t.ideasCtrl.collection.find(function(e){return e.id==n.monsterId}),t.detailCtrl.editCurrent={title:null,tout:null,target:null,summary:null,pitchVideoUrl:null},t.detailCtrl.current&&(t.detailCtrl.editCurrent.title=t.detailCtrl.current.getTitle(),t.detailCtrl.editCurrent.summary=t.detailCtrl.current.getSummary(),t.detailCtrl.editCurrent.tout=t.detailCtrl.current.getTout(),t.detailCtrl.editCurrent.target=t.detailCtrl.current.getTarget(),t.detailCtrl.editCurrent.pitchVideoUrl=t.detailCtrl.current.getPitchVideoUrl()),t.detailCtrl.saveIdea=function(){t.detailCtrl.current.setTitle(t.detailCtrl.editCurrent.title),t.detailCtrl.current.setSummary(t.detailCtrl.editCurrent.summary),t.detailCtrl.current.setTout(t.detailCtrl.editCurrent.tout),t.detailCtrl.current.setTarget(t.detailCtrl.editCurrent.target),t.detailCtrl.current.setPitchVideoUrl(t.detailCtrl.editCurrent.pitchVideoUrl),t.detailCtrl.current.saveParse().then(function(e){i.path("/ideas/"+e.id)},function(e){alert("Error saving to Parse, check the console and network tab"),console.log(e)})},t.detailCtrl.createIdea=function(){t.ideasCtrl.collection.addIdea(t.detailCtrl.editCurrent.title,t.detailCtrl.editCurrent.tout,t.detailCtrl.editCurrent.target,function(e){i.path("/ideas/"+e.id+"/edit")})},t.detailCtrl.endorse=function(){t.detailCtrl.current.incrementEducatorVotes(),t.detailCtrl.current.saveParse().then(function(){},function(e){alert("Error saving to Parse, check the console and network tab"),console.log(e)})},t.detailCtrl.volunteer=function(){t.detailCtrl.current.incrementDeveloperVotes(),t.detailCtrl.current.saveParse().then(function(){},function(e){alert("Error saving to Parse, check the console and network tab"),console.log(e)})},t.transitionTo=function(e){r.transitionTo(e)},t.isActiveState=function(e){return e==r.current.name?"light-back":void 0},t.trustSrc=function(e){return a.trustAsResourceUrl(e)}}]),angular.module("demo").controller("IdeasController",["$rootScope","$scope","$state","$stateParams","$sce","IdeaService","ideas",function(e,t,r,n,a,i,o){var s=0;t.ideasCtrl={collection:o},t.featuredIdea=o.models[s],t.nextFeature=function(){o.length-1>s?s++:s=0,t.featuredIdea=o.models[s]},t.trustSrc=function(e){return e&&e.length?a.trustAsResourceUrl(e):a.trustAsResourceUrl("about:blank")}}]),angular.module("facebook").controller("FacebookExampleController",["$rootScope","$scope","$state","$stateParams","FacebookAngularPatch","ParseQueryAngular","GoldenEggUserService","goldenEggUsers",function(e,t,r,n,a,i,o,s){t.facebookCtrl={fbAuthData:{},response:{}},t.asEducator=function(){s.loadGoldenEggUserWithId(Parse.User.current().id).then(function(e){var t=e.models[0];s.addGoldenEggUser(t.getUserId(),t.getFacebookId(),null,"educator",t.getFirstName(),t.getLastName(),t.getPicture()),s.removeGoldenEggUser(t),window.location="#/"})},t.asDeveloper=function(){s.loadGoldenEggUserWithId(Parse.User.current().id).then(function(e){var t=e.models[0];s.addGoldenEggUser(t.getUserId(),t.getFacebookId(),null,"developer",t.getFirstName(),t.getLastName(),t.getPicture()),s.removeGoldenEggUser(t),window.location="#/"})},Parse.User.current()&&(t.facebookCtrl.fbAuthData=Parse.User.current().get("authData"),s.loadGoldenEggUserWithId(Parse.User.current().id).then(function(e){0==e.models.length&&t.fbConnect();var r=e.models[0];Parse.User.current().facebookId=r.getFacebookId(),Parse.User.current().firstName=r.getFirstName(),Parse.User.current().lastName=r.getLastName(),Parse.User.current().picture=r.getPicture(),$(".user-name").html("Welcome "+(r.getRole()?r.getRole():"")+" "+r.getFirstName()+" "+r.getLastName()+"!"),$(".user-pic").css("background-image",'url("'+r.getPicture()+'")'),$(".lnk-login").hide(),$(".user-info").show();var r=e.models[0].attributes;return r.role?(window.location="#/",void 0):(window.location="#/facebook/role",void 0)})),t.fbConnect=function(){i(Parse.FacebookUtils,{functionToCall:"logIn",params:[null,{success:function(e){var t=e.id;FB.api("/me",function(e){if(e&&!e.error){var r=e.id,n=e.first_name,a=e.last_name;FB.api("/me/picture",function(e){var i=e.data.url;e&&!e.error&&s.loadGoldenEggUserWithId(Parse.User.current().id).then(function(e){0==e.models.length?(s.addGoldenEggUser(t,r,null,null,n,a,i),window.location="#/facebook/role"):window.location=e.models[0].getRole()?"#/facebook/role":"#/"})})}})},error:function(e){console.log(e)}}]}).then(function(e){t.facebookCtrl.fbAuthData=e.get("authData")},function(e){alert("something went wrong, try again"),t.facebookCtrl.fbAuthData=e})}}]),angular.module("ParseServices",[]).factory("ExtendParseSDK",["ParseAbstractService",function(e){Parse.Object.extendAngular=function(t){return e.EnhanceObject(Parse.Object.extend(t))},Parse.Collection.extendAngular=function(t){return e.EnhanceCollection(Parse.Collection.extend(t))}}]).factory("ParseSDK",function(){Parse.initialize("iYEJSYbbfnJSRsvFlGP7HlS35EdLQtRNGMNC61nP","luCSjnyHaR3IdDoprk1AdnrWVwYgVB6N0Cw4xqum"),window.fbPromise.then(function(){Parse.FacebookUtils.init({appId:643298702409846,channelUrl:"http://brandid.github.io/parse-angular-demo/channel.html",cookie:!0,xfbml:!0,frictionlessRequests:!0})})}),angular.module("ParseServices").factory("ParseQueryAngular",["$q","$timeout",function(e,t){var r=t;return function(t,n){var a="find";_.isUndefined(n)||_.isUndefined(n.functionToCall)||(a=n.functionToCall);var i=e.defer(),o=[{success:function(e){r(function(){i.resolve(e)})},error:function(e,t){r(function(){i.reject(t)})}}];return n&&n.params&&(o=n.params.concat(o)),n&&n.mergeParams&&(o[0]=_.extend(o[0],n.mergeParams)),t[a].apply(t,o),i.promise}}]),angular.module("ExternalDataServices",[]).factory("ParseAbstractService",["ParseQueryAngular",function(e){var t=function(t){return t.prototype=_.extend(t.prototype,{load:function(){return e(this,{functionToCall:"fetch"})},saveParse:function(t){return t&&"object"==typeof t&&this.set(t),e(this,{functionToCall:"save",params:[null]})}}),t},r=function(t){return t.prototype=_.extend(t.prototype,{load:function(){return e(this,{functionToCall:"fetch"})}}),t};return{EnhanceObject:t,EnhanceCollection:r}}]),angular.module("ExternalDataServices").factory("MonsterService",["ParseQueryAngular",function(e){var t=Parse.Object.extendAngular({className:"Monster",setName:function(e){return this.set("name",e),this},setReason:function(e){return this.set("reason",e),this},getName:function(){return this.get("name")},getReason:function(){return this.get("reason")},destroyParse:function(){return e(this,{functionToCall:"destroy"})}}),r=Parse.Collection.extendAngular({model:t,comparator:function(e){return-e.createdAt.getTime()},loadMonstersWithName:function(e){return this.query=new Parse.Query(t),this.query.equalTo("name",e),this.load()},addMonster:function(e,r){var n=this,a=new t;return a.setName(e),a.setReason(r),a.saveParse().then(function(e){n.add(e)})},removeMonster:function(e){if(!this.get(e))return!1;var t=this;return e.destroyParse().then(function(){t.remove(e)})}});return{model:t,collection:r}}]),angular.module("ExternalDataServices").factory("IdeaService",["ParseQueryAngular",function(e){var t=Parse.Object.extendAngular({className:"Idea",setOwner:function(e){return this.set("owner",e),this},setTitle:function(e){return this.set("title",e),this},setSummary:function(e){return this.set("summary",e),this},setPitchVideoUrl:function(e){return this.set("pitchVideoUrl",e),this},setDevCommitment:function(e){return this.set("devCommitment",e),this},setDesignCommitment:function(e){return this.set("designCommitment",e),this},setEducatorCommitment:function(e){return this.set("educatorCommitment",e),this},setMonetaryCommitment:function(e){return this.set("monetaryCommitment",e),this},setEducatorVotes:function(e){return this.set("educatorVotes",e),this},setDeveloperVotes:function(e){return this.set("developerVotes",e),this},incrementEducatorVotes:function(){return this.increment("educatorVotes"),this},incrementDeveloperVotes:function(){return this.increment("developerVotes"),this},setTout:function(e){return this.set("tout",e),this},setTarget:function(e){return this.set("target",e),this},getOwner:function(){return this.get("owner")},getTitle:function(){return this.get("title")},getSummary:function(){return this.get("summary")},getPitchVideoUrl:function(){return this.get("pitchVideoUrl")},getDevCommitment:function(){return this.get("devCommitment")},getDesignCommitment:function(){return this.get("designCommitment")},getEducatorCommitment:function(){return this.get("educatorCommitment")},getMonetaryCommitment:function(){return this.get("monetaryCommitment")},getTraction:function(){return this.get("devCommitment")+this.get("designCommitment")+this.get("educatorCommitment")+this.getVotes()},getEducatorVotes:function(){return this.get("educatorVotes")},getDeveloperVotes:function(){return this.get("developerVotes")},getVotes:function(){return this.get("developerVotes")+this.get("educatorVotes")},getVolunteers:function(){return this.get("devCommitment")+this.get("designCommitment")+this.get("educatorCommitment")},getTout:function(){return this.get("tout")},getTarget:function(){return this.get("target")},getCreatedAt:function(){return this.get("createdAt")},getUpdateAt:function(){return this.get("updateAt")},destroyParse:function(){return e(this,{functionToCall:"destroy"})}}),r=Parse.Collection.extendAngular({model:t,comparator:function(e){return-e.createdAt.getTime()},addIdea:function(e,r,n,a){var i=this,o=new t;return o.setTitle(e),o.setSummary(""),o.setTout(r),o.setTarget(n),o.setDevCommitment(0),o.setDesignCommitment(0),o.setEducatorCommitment(0),o.setMonetaryCommitment(0),o.setEducatorVotes(0),o.setDeveloperVotes(0),o.saveParse().then(function(e){i.add(e),"function"==typeof a&&a(e)})},removeIdea:function(e){if(!this.get(e))return!1;var t=this;return e.destroyParse().then(function(){t.remove(e)})}});return{model:t,collection:r}}]),angular.module("ExternalDataServices").factory("GoldenEggUserService",["ParseQueryAngular",function(e){var t=Parse.Object.extendAngular({className:"GoldenEggUser",setUserId:function(e){return this.set("userId",e),this},setFacebookId:function(e){return this.set("facebookId",e),this},setRole:function(e){return this.set("role",e),this},setPicture:function(e){return this.set("picture",e),this},setFirstName:function(e){return this.set("firstName",e),this},setLastName:function(e){return this.set("lastName",e),this},getUserId:function(){return this.get("userId")},getFacebookId:function(){return this.get("facebookId")},getRole:function(){return this.get("role")},getPicture:function(){return this.get("picture")},getFirstName:function(){return this.get("firstName")},getLastName:function(){return this.get("lastName")},destroyParse:function(){return e(this,{functionToCall:"destroy"})}}),r=Parse.Collection.extendAngular({model:t,comparator:function(e){return-e.createdAt.getTime()},loadGoldenEggUserWithId:function(e){return this.query=new Parse.Query(t),this.query.equalTo("userId",e),this.load()},addGoldenEggUser:function(e,r,n,a,i,o,s){var l=this,c=new t;return c.setUserId(e),c.setFacebookId(r),c.setRole(a),c.setFirstName(i),c.setLastName(o),c.setPicture(s),c.saveParse().then(function(e){l.add(e)})},removeGoldenEggUser:function(e){if(!this.get(e))return!1;var t=this;return e.destroyParse().then(function(){t.remove(e)})}});return{model:t,collection:r}}]),angular.module("FacebookPatch",[]).factory("FacebookAngularPatch",function(e,t){var r=function(){var r=[].splice.call(arguments,0),n=e.defer(),a=t;return window.fbPromise.then(function(){r.push(function(e){return _.isUndefined(e.error)?(a(function(){n.resolve(e)}),void 0):(a(function(){n.reject(e.error)}),void 0)}),FB.api.apply(FB,r)}),n.promise};window.fbPromise.then(function(){FB.apiAngular=r})});